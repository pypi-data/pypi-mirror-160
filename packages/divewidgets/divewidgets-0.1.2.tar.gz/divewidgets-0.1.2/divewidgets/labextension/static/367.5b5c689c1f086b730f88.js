(self.webpackChunkjupyter_divewidgets=self.webpackChunkjupyter_divewidgets||[]).push([[367],{7186:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editorSetup=t.EditorView=void 0;const n=i(6589);var o=i(6589);Object.defineProperty(t,"EditorView",{enumerable:!0,get:function(){return o.EditorView}});const r=i(4952),s=i(7095),a=i(99),l=i(6220),c=i(5920),d=i(7021),h=[n.lineNumbers(),n.highlightActiveLineGutter(),n.highlightSpecialChars(),a.history(),s.foldGutter(),n.drawSelection(),n.dropCursor(),r.EditorState.allowMultipleSelections.of(!0),s.indentOnInput(),s.syntaxHighlighting(s.defaultHighlightStyle,{fallback:!0}),s.bracketMatching(),c.closeBrackets(),c.autocompletion(),n.rectangularSelection(),n.crosshairCursor(),n.highlightActiveLine(),l.highlightSelectionMatches(),n.keymap.of([...c.closeBracketsKeymap,...a.defaultKeymap,...l.searchKeymap,...a.historyKeymap,...s.foldKeymap,...c.completionKeymap,...d.lintKeymap])];t.editorSetup=h},6006:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editorTheme=void 0;const n=i(6589).EditorView.baseTheme({"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light: .cm-selectionBackground":{background:"#d9d9d9"},"&dark: .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"lightgrey"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}});t.editorTheme=n},8657:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=t.MODULE_VERSION=void 0;const n=i(4147);t.MODULE_VERSION=n.version,t.MODULE_NAME=n.name},1367:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DIVEWidgetView=t.DIVEWidgetModel=void 0;const n=i(2565),o=i(8657);i(7204);const r=i(6589),s=i(7186),a=i(6006),l=i(4952),c=i(197),d=i(9737);class h extends n.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DIVEWidgetModel",_view_name:"DIVEWidgetView",_model_module:o.MODULE_NAME,_model_module_version:o.MODULE_VERSION,_view_module:o.MODULE_NAME,_view_module_version:o.MODULE_VERSION,js:"// some code here",html:"\x3c!-- some code here --\x3e",height:600,width:600})}}t.DIVEWidgetModel=h,h.serializers=Object.assign({},n.DOMWidgetModel.serializers);class u extends n.DOMWidgetView{render(){const e=r.keymap.of([{key:"Ctrl-Enter",run:(()=>(this.run(),!0)).bind(this)}]);this.jsTab=document.createElement("div"),this.htmlTab=document.createElement("div"),this.jsTab.innerHTML="JS",this.htmlTab.innerHTML="HTML",this.jsTab.classList.add("active-tab"),this.tabContainer=document.createElement("div"),this.tabContainer.className="tab-container",this.jsTab.onclick=(()=>{this.htmlTab.classList.remove("active-tab"),this.jsTab.classList.add("active-tab"),this.htmlContainer.style.display="none",this.jsContainer.style.display="block"}).bind(this),this.htmlTab.onclick=(()=>{this.htmlTab.classList.add("active-tab"),this.jsTab.classList.remove("active-tab"),this.htmlContainer.style.display="block",this.jsContainer.style.display="none"}).bind(this),this.tabContainer.appendChild(this.jsTab),this.tabContainer.appendChild(this.htmlTab),this.jsContainer=document.createElement("div"),this.jsContainer.className="js-container",this.jsContainer.style.display="block",this.jsView=new r.EditorView({state:l.EditorState.create({doc:"",extensions:[a.editorTheme,s.editorSetup,e,c.javascript()]}),parent:this.jsContainer}),this.jsView.dispatch({changes:{from:0,insert:this.model.get("js")}}),this.htmlContainer=document.createElement("div"),this.htmlContainer.className="html-container",this.htmlContainer.style.display="none",this.htmlView=new r.EditorView({state:l.EditorState.create({doc:"",extensions:[s.editorSetup,e,d.html()]}),parent:this.htmlContainer}),this.htmlView.dispatch({changes:{from:0,insert:this.model.get("html")}}),this.editorContainer=document.createElement("div"),this.editorContainer.style.display="none",this.editorContainer.className="editor-container",this.editorContainer.appendChild(this.jsContainer),this.editorContainer.appendChild(this.htmlContainer),this.controlContainer=document.createElement("div"),this.controlContainer.className="control-container",this.controlContainer.style.display="flex",this.showBtn=document.createElement("button"),this.showBtn.innerText="show code",this.showBtn.onclick=this.toggleCode.bind(this),this.runBtn=document.createElement("button"),this.runBtn.innerText="run code",this.runBtn.title="Ctrl-Enter",this.runBtn.onclick=this.run.bind(this),this.runBtn.style.display="none",this.controlContainer.appendChild(this.showBtn),this.controlContainer.appendChild(this.runBtn),this.outputContainer=document.createElement("iframe"),this.outputContainer.className="output-container",this.outputContainer.width=this.model.get("width"),this.outputContainer.height=this.model.get("height"),this.setHtml(),this.widgetContainer=document.createElement("div"),this.widgetContainer.className="divewidget",this.widgetContainer.appendChild(this.outputContainer),this.widgetContainer.appendChild(this.controlContainer),this.widgetContainer.appendChild(this.tabContainer),this.widgetContainer.appendChild(this.editorContainer),this.el.appendChild(this.widgetContainer)}run(){const e=this.htmlView.state.doc.toString(),t=this.jsView.state.doc.toString();this.model.set("html",e),this.model.set("js",t),this.model.save_changes()}setHtml(){this.outputContainer.srcdoc=this.model.get("html"),this.outputContainer.onload=function(){this.outputDocument=this.outputContainer.contentDocument,this.jsScript=this.outputDocument.createElement("script"),this.outputDocument.body.appendChild(this.jsScript),this.setJs(),this.model.on("change:js",this.setJs,this),this.model.on("change:html",this.setHtml,this)}.bind(this)}setJs(){let e=this.outputDocument.createElement("script");e.innerHTML=`(function () {\n      ${this.model.get("js")}\n    })();`,this.outputDocument.body.replaceChild(e,this.jsScript),this.jsScript=e}toggleCode(){"block"==this.editorContainer.style.display?(this.showBtn.innerText="show code",this.tabContainer.style.display="none",this.editorContainer.style.display="none",this.runBtn.style.display="none"):(this.showBtn.innerText="hide code",this.tabContainer.style.display="flex",this.editorContainer.style.display="block",this.runBtn.style.display="block")}}t.DIVEWidgetView=u},3889:(e,t,i)=>{(t=i(3645)(!1)).push([e.id,".tab-container {\n  display: none;\n  flex-direction: row;\n  overflow: hidden;\n}\n\n.output-container {\n  resize: both;\n  overflow: auto;\n  max-width: 100%;\n  border: none;\n}\n\n.editor-container {\n  resize: horizontal;\n  overflow: auto;\n  max-width: 100%;\n  border: none;\n}\n\n.tab-container > div {\n  padding: 6px 6px;\n  margin: 2px;\n  background-color:lightgray;\n  display: block; \n  overflow: hidden;\n  border: none;\n  color: grey;\n}\n\n.tab-container > div.active-tab {\n  background-color:grey;\n  color: yellow;\n}\n",""]),e.exports=t},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i,n,o,r=e[1]||"",s=e[3];if(!s)return r;if(t&&"function"==typeof btoa){var a=(i=s,n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(o," */")),l=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[r].concat(l).concat([a]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(o[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);n&&o[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},7204:(e,t,i)=>{var n=i(3379),o=i(3889);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},3379:(e,t,i)=>{"use strict";var n,o=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),r=[];function s(e){for(var t=-1,i=0;i<r.length;i++)if(r[i].identifier===e){t=i;break}return t}function a(e,t){for(var i={},n=[],o=0;o<e.length;o++){var a=e[o],l=t.base?a[0]+t.base:a[0],c=i[l]||0,d="".concat(l," ").concat(c);i[l]=c+1;var h=s(d),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(r[h].references++,r[h].updater(u)):r.push({identifier:d,updater:b(u,t),references:1}),n.push(d)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var r=i.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function h(e,t,i,n){var o=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var r=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function u(e,t,i){var n=i.css,o=i.media,r=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,m=0;function b(e,t){var i,n,o;if(t.singleton){var r=m++;i=p||(p=l(t)),n=h.bind(null,i,r,!1),o=h.bind(null,i,r,!0)}else i=l(t),n=u.bind(null,i,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var i=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var o=s(i[n]);r[o].references--}for(var l=a(e,t),c=0;c<i.length;c++){var d=s(i[c]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}i=l}}}},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"jupyter-divewidgets","version":"0.1.2","description":"Jupyter Widgets for DIVE virtual learning environment.","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"homepage":"https://github.com/DIVE/divewidgets","bugs":{"url":"https://github.com/DIVE/divewidgets/issues"},"license":"BSD-3-Clause","author":{"name":"Chung Chan","email":"chungc@alum.mit.edu"},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/DIVE/divewidgets"},"scripts":{"build":"jlpm run build:lib && jlpm run build:nbextension:dev && jlpm run build:labextension:dev","build:prod":"jlpm run build:lib && jlpm run build:nbextension && jlpm run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack --mode=production","build:nbextension:dev":"webpack --mode=development","clean":"jlpm run clean:lib && jlpm run clean:nbextension && jlpm run clean:labextension","clean:lib":"rimraf lib","clean:labextension":"rimraf divewidgets/labextension","clean:nbextension":"rimraf divewidgets/nbextension/static/index.js","lint":"eslint . --ext .ts,.tsx --fix","lint:check":"eslint . --ext .ts,.tsx","prepack":"jlpm run build:lib","test":"jest","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch --mode=development","watch:labextension":"jupyter labextension watch ."},"dependencies":{"@codemirror/autocomplete":"^6.1.0","@codemirror/commands":"^6.0.1","@codemirror/lang-html":"^6.1.0","@codemirror/lang-javascript":"^6.0.2","@codemirror/language":"^6.2.1","@codemirror/lint":"^6.0.0","@codemirror/search":"^6.0.1","@codemirror/state":"^6.1.0","@codemirror/view":"^6.1.1","@jupyter-widgets/base":"^1.1.10 || ^2.0.0 || ^3.0.0 || ^4.0.0"},"devDependencies":{"@babel/core":"^7.5.0","@babel/preset-env":"^7.5.0","@jupyterlab/builder":"^3.0.0","@phosphor/application":"^1.6.0","@phosphor/widgets":"^1.6.0","@types/jest":"^28.1.6","@types/webpack-env":"^1.13.6","@typescript-eslint/eslint-plugin":"^3.6.0","@typescript-eslint/parser":"^3.6.0","acorn":"^7.2.0","css-loader":"^3.2.0","eslint":"^7.4.0","eslint-config-prettier":"^6.11.0","eslint-plugin-prettier":"^3.1.4","fs-extra":"^7.0.0","identity-obj-proxy":"^3.0.0","jest":"^26.0.0","mkdirp":"^0.5.1","npm-run-all":"^4.1.3","prettier":"^2.0.5","rimraf":"^2.6.2","source-map-loader":"^1.1.3","style-loader":"^1.0.0","ts-jest":"^26.0.0","ts-loader":"^8.0.0","typescript":"~4.1.3","webpack":"^5.61.0","webpack-cli":"^4.0.0"},"jupyterlab":{"extension":"lib/plugin","outputDir":"divewidgets/labextension/","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}}}')}}]);