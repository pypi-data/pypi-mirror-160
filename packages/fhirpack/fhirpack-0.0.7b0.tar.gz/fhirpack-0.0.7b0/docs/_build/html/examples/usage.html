
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>General Usage &#8212; fhirpack 0.0.6b0 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Minimal Setup" href="minimal.html" />
    <link rel="prev" title="Examples" href="../pages/examples.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">fhirpack 0.0.6b0 documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../pages/installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../pages/examples.html">
   Examples
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     General Usage
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="minimal.html">
     Minimal Setup
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pages/cli.html">
     CLI
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../pages/api.html">
   API
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/fhirpack.extraction.html">
     Extractor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/fhirpack.transformation.html">
     Transformer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/fhirpack.load.html">
     Loader
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../pages/contributing.html">
   Contributing
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/examples/usage.ipynb.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Preamble">
   Preamble
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Imports">
   Imports
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Useful-Paths-for-Data-Storage">
   Useful Paths for Data Storage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#FHIR-Server-Connection">
   FHIR Server Connection
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#CLI-Usage">
   CLI Usage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#From-Custom-Environment-File">
   From Custom Environment File
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#From-Default-.env-Environment-File">
   From Default .env Environment File
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Manual-Setup">
   Manual Setup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Testing-with-A-Docker-FHIR-Server-and-Synthetic-Data">
   Testing with A Docker FHIR Server and Synthetic Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Introductory-Example">
   Introductory Example
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#FHIR-PACK-Usage">
   FHIR PACK Usage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#References">
   References
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Resources">
   Resources
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Reference-to-Resource">
   Reference to Resource
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Direct-Resource">
   Direct Resource
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Serialization-and-Element-Access">
   Serialization and Element Access
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#DataFrame-Operations">
   DataFrame Operations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pack.base.Frame">
   pack.base.Frame
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Extraction">
   Extraction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Patient-Extraction">
   Patient Extraction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getPatients">
   fhirpack.extraction.getPatients
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Patients-as-Operand-and-Extracting-other-Resources">
   Patients as Operand and Extracting other Resources
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getRootPatient">
   fhirpack.extraction.getRootPatient
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getLinkedPatients">
   fhirpack.extraction.getLinkedPatients
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getConditions">
   fhirpack.extraction.getConditions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Conditions">
   Conditions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Patients-for-Conditions">
   Patients for Conditions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Conditions-for-Patient">
   Conditions for Patient
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhipack.extraction.getEpisodesOfCare">
   fhipack.extraction.getEpisodesOfCare
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhipack.extraction.getFamilyMemberHistories">
   fhipack.extraction.getFamilyMemberHistories
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhipack.extraction.getMedicationAdministrations">
   fhipack.extraction.getMedicationAdministrations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhipack.extraction.getMedicationRequests">
   fhipack.extraction.getMedicationRequests
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhipack.extraction.getObservations">
   fhipack.extraction.getObservations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getDiagnosticReports">
   fhirpack.extraction.getDiagnosticReports
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getURLBytes">
   fhirpack.extraction.getURLBytes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.base.getAbsolutePaths">
   fhirpack.extraction.base.getAbsolutePaths
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getImagingStudies">
   fhirpack.extraction.getImagingStudies
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Transformation">
   Transformation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.transformation.base.gatherKeys">
   fhirpack.transformation.base.gatherKeys
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.transformation.base.valuesForKeys">
   fhirpack.transformation.base.valuesForKeys
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.transformation.base.gatherReferences">
   fhirpack.transformation.base.gatherReferences
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.transformation.base.gatherText">
   fhirpack.transformation.base.gatherText
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.transformation.base.gatherDates">
   fhirpack.transformation.base.gatherDates
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Load">
   Load
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Utils">
   Utils
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Server-Profiling">
   Server Profiling
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Validation">
   Validation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#FHIR-PACK-Internals">
   FHIR PACK Internals
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#FHIRPy">
     FHIRPy
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#URL-Parsing">
   URL Parsing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Raw-fetch_resource()">
   Raw fetch_resource()
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Raw-client.execute()">
   Raw client.execute()
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Customization">
   Customization
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.custom.extraction.base">
   fhirpack.custom.extraction.base
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>General Usage</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Preamble">
   Preamble
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Imports">
   Imports
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Useful-Paths-for-Data-Storage">
   Useful Paths for Data Storage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#FHIR-Server-Connection">
   FHIR Server Connection
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#CLI-Usage">
   CLI Usage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#From-Custom-Environment-File">
   From Custom Environment File
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#From-Default-.env-Environment-File">
   From Default .env Environment File
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Manual-Setup">
   Manual Setup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Testing-with-A-Docker-FHIR-Server-and-Synthetic-Data">
   Testing with A Docker FHIR Server and Synthetic Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Introductory-Example">
   Introductory Example
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#FHIR-PACK-Usage">
   FHIR PACK Usage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#References">
   References
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Resources">
   Resources
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Reference-to-Resource">
   Reference to Resource
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Direct-Resource">
   Direct Resource
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Serialization-and-Element-Access">
   Serialization and Element Access
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#DataFrame-Operations">
   DataFrame Operations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pack.base.Frame">
   pack.base.Frame
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Extraction">
   Extraction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Patient-Extraction">
   Patient Extraction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getPatients">
   fhirpack.extraction.getPatients
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Patients-as-Operand-and-Extracting-other-Resources">
   Patients as Operand and Extracting other Resources
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getRootPatient">
   fhirpack.extraction.getRootPatient
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getLinkedPatients">
   fhirpack.extraction.getLinkedPatients
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getConditions">
   fhirpack.extraction.getConditions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Conditions">
   Conditions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Patients-for-Conditions">
   Patients for Conditions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Conditions-for-Patient">
   Conditions for Patient
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhipack.extraction.getEpisodesOfCare">
   fhipack.extraction.getEpisodesOfCare
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhipack.extraction.getFamilyMemberHistories">
   fhipack.extraction.getFamilyMemberHistories
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhipack.extraction.getMedicationAdministrations">
   fhipack.extraction.getMedicationAdministrations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhipack.extraction.getMedicationRequests">
   fhipack.extraction.getMedicationRequests
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhipack.extraction.getObservations">
   fhipack.extraction.getObservations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getDiagnosticReports">
   fhirpack.extraction.getDiagnosticReports
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getURLBytes">
   fhirpack.extraction.getURLBytes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.base.getAbsolutePaths">
   fhirpack.extraction.base.getAbsolutePaths
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.extraction.getImagingStudies">
   fhirpack.extraction.getImagingStudies
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Transformation">
   Transformation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.transformation.base.gatherKeys">
   fhirpack.transformation.base.gatherKeys
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.transformation.base.valuesForKeys">
   fhirpack.transformation.base.valuesForKeys
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.transformation.base.gatherReferences">
   fhirpack.transformation.base.gatherReferences
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.transformation.base.gatherText">
   fhirpack.transformation.base.gatherText
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.transformation.base.gatherDates">
   fhirpack.transformation.base.gatherDates
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Load">
   Load
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Utils">
   Utils
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Server-Profiling">
   Server Profiling
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Validation">
   Validation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#FHIR-PACK-Internals">
   FHIR PACK Internals
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#FHIRPy">
     FHIRPy
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#URL-Parsing">
   URL Parsing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Raw-fetch_resource()">
   Raw fetch_resource()
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Raw-client.execute()">
   Raw client.execute()
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Customization">
   Customization
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fhirpack.custom.extraction.base">
   fhirpack.custom.extraction.base
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="General-Usage">
<h1>General Usage<a class="headerlink" href="#General-Usage" title="Permalink to this headline">#</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
<span class="o">%</span><span class="k">pprint</span> off
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The autoreload extension is already loaded. To reload it, use:
  %reload_ext autoreload
Pretty printing has been turned OFF
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.core.interactiveshell</span> <span class="kn">import</span> <span class="n">InteractiveShell</span>
<span class="n">InteractiveShell</span><span class="o">.</span><span class="n">ast_node_interactivity</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pprint</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Pretty printing has been turned ON
</pre></div></div>
</div>
<section id="Preamble">
<h2>Preamble<a class="headerlink" href="#Preamble" title="Permalink to this headline">#</a></h2>
<p>[!] use only if you have <strong>NOT</strong> installed FHIR PACK via <code class="docutils literal notranslate"><span class="pre">pip</span></code>, <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> or similar in your environment but you have instead cloned the project and are now in the <code class="docutils literal notranslate"><span class="pre">/examples</span></code> directory</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span><span class="nn">os</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span><span class="o">+</span><span class="s1">&#39;/../src/&#39;</span><span class="p">)</span>
<span class="c1"># sys.path</span>
</pre></div>
</div>
</div>
</section>
<section id="Imports">
<h2>Imports<a class="headerlink" href="#Imports" title="Permalink to this headline">#</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fhirpack</span>                     <span class="k">as</span> <span class="nn">fp</span>
<span class="kn">import</span> <span class="nn">pandas</span>                       <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">fhirpy</span>
<span class="kn">import</span> <span class="nn">numpy</span>                        <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">fhir.resources</span>       <span class="k">as</span> <span class="nn">fr</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>
<span class="kn">from</span> <span class="nn">fhirpack.constants</span> <span class="kn">import</span> <span class="n">CONFIG</span>
</pre></div>
</div>
</div>
</section>
<section id="Useful-Paths-for-Data-Storage">
<h2>Useful Paths for Data Storage<a class="headerlink" href="#Useful-Paths-for-Data-Storage" title="Permalink to this headline">#</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">DATAPATH</span><span class="o">=</span><span class="n">CONFIG</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;DATAPATH&#39;</span><span class="p">)</span>
<span class="n">RESPATH</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">DATAPATH</span><span class="si">}</span><span class="s2">/fhir/&quot;</span>
</pre></div>
</div>
</div>
</section>
<section id="FHIR-Server-Connection">
<h2>FHIR Server Connection<a class="headerlink" href="#FHIR-Server-Connection" title="Permalink to this headline">#</a></h2>
</section>
<section id="CLI-Usage">
<h2>CLI Usage<a class="headerlink" href="#CLI-Usage" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>python -m fhirpack.cli -e .env.example <span class="s2">&quot;-o&quot;</span> <span class="s2">&quot;getPatients&quot;</span> -p <span class="s2">&quot;given = Chalmers&quot;</span> #-v
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                                                data  Patient
0  {&#39;resourceType&#39;: &#39;Patient&#39;, &#39;id&#39;: &#39;1567099&#39;, &#39;...  1567099
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># public FHIR test servers may be unavailable sometimes</span>
<span class="c1"># if you prefer to test FHIRPACK using a locally running FHIR server</span>
<span class="c1"># you may use our provided Docker environment by changing into the</span>
<span class="c1"># cloned repository and running `docker-compose up``</span>

<span class="c1"># !fp -e .env.docker -o &quot;getPatients&quot; -p &quot;given = Max&quot; #-v</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                                                data Patient
0  {&#39;resourceType&#39;: &#39;Patient&#39;, &#39;id&#39;: &#39;146053&#39;, &#39;m...  146053
1  {&#39;resourceType&#39;: &#39;Patient&#39;, &#39;id&#39;: &#39;146255&#39;, &#39;m...  146255
2  {&#39;resourceType&#39;: &#39;Patient&#39;, &#39;id&#39;: &#39;146496&#39;, &#39;m...  146496
</pre></div></div>
</div>
</section>
<section id="From-Custom-Environment-File">
<h2>From Custom Environment File<a class="headerlink" href="#From-Custom-Environment-File" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># pack = fp.PACK(envFile=&#39;.env.docker&#39;)</span>

<span class="c1"># for i,e in pack.getPatients([&#39;146053&#39;]).data.items():</span>
<span class="c1">#   print(</span>
<span class="c1">#           json.dumps(e.serialize(), indent=4, sort_keys=True)[:200],</span>
<span class="c1">#           &#39;\n...&#39;</span>
<span class="c1">#   )</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{
    &#34;address&#34;: [
        {
            &#34;city&#34;: &#34;Walpole&#34;,
            &#34;country&#34;: &#34;US&#34;,
            &#34;extension&#34;: [
                {
                    &#34;extension&#34;: [
                        {

...
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>cat .env.example
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>


SCHEMA=https
PORT=80

#DOMAIN=${SCHEMA}://hapi.fhir.org
#DOMAIN=${SCHEMA}://test.hapifhir.io
#might be unstable or unavailable https://github.com/hapifhir/hapi-fhir/issues/1171#issuecomment-1179728061

DOMAIN=${SCHEMA}://hapi.fhir.org

#DOMAIN=${SCHEMA}://example.com:${PORT}
# only use port if the server is running on a non-standard port
# and this is reflected in the FHIR pagination links
# see https://gitlab.com/fhirpack/main/-/issues/75 for more information

APIBASE=${DOMAIN}/baseR4

#AUTH_METHOD=
#AUTH_PARAMS_PRESET=
#LOGINURL=${DOMAIN}/oauth/token
#OAUTH_TOKEN_ENDPOINT=${DOMAIN}/oauth/token
#OAUTH_USERNAME=username
#OAUTH_PASSWORD=password
#OAUTH_TOKEN=token

LOGSPATH=./logs
DATAPATH=./data

#EXTRACTION_BASE_TOKEN_DICOM=${OAUTH_TOKEN}

</pre></div></div>
</div>
</section>
<section id="From-Default-.env-Environment-File">
<h2>From Default .env Environment File<a class="headerlink" href="#From-Default-.env-Environment-File" title="Permalink to this headline">#</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># pack = fp.PACK()</span>
<span class="c1"># pack.client.authorization</span>
</pre></div>
</div>
</div>
</section>
<section id="Manual-Setup">
<h2>Manual Setup<a class="headerlink" href="#Manual-Setup" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><br/><span></span><span class="c1"># pack  = fp.PACK(envFile=&quot;.env.docker&quot;)</span>

<span class="n">pack</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">PACK</span><span class="p">(</span><span class="s2">&quot;https://hapi.fhir.org/baseR4&quot;</span><span class="p">)</span>
<span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;2918556&#39;</span><span class="p">])</span>

<span class="c1"># pack  = fp.PACK(&quot;http://127.0.0.1:42112/hapi-fhir-jpaserver/fhir&quot;)</span>
<span class="c1"># pack.getPatients([&#39;146053&#39;])</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': '2918556', '...</td>
      <td>2918556</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#testing with another less reliable FHIR server</span>
<span class="c1"># pack  = fp.PACK(&quot;http://test.fhir.org/r4/&quot;)</span>
<span class="c1"># pack.getPatients([&#39;11&#39;]).data.iloc[0]</span>
</pre></div>
</div>
</div>
</section>
<section id="Testing-with-A-Docker-FHIR-Server-and-Synthetic-Data">
<h2>Testing with A Docker FHIR Server and Synthetic Data<a class="headerlink" href="#Testing-with-A-Docker-FHIR-Server-and-Synthetic-Data" title="Permalink to this headline">#</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># alternatively, if you&#39;re using our Dockerfile to run your FHIR server</span>
<span class="c1"># remember to run &quot;docker-compose up&quot; in your local clone of FHIRPACK first</span>

<span class="c1"># pack  = fp.PACK(envFile=&quot;.env.docker&quot;)</span>
<span class="c1"># pack  = fp.PACK(&quot;http://127.0.0.1:42112/hapi-fhir-jpaserver/fhir&quot;)</span>
<span class="c1"># pack.getPatients([&#39;1&#39;]).data.iloc[0].serialize()</span>
<span class="c1"># pack.getPatients([&#39;146053&#39;])</span>
<br/></pre></div>
</div>
</div>
</section>
<section id="Introductory-Example">
<h2>Introductory Example<a class="headerlink" href="#Introductory-Example" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># for patients whose lastname is Koepp, find the root identity,</span>
<span class="c1"># get their associated diagnostic reports and report their ID and status</span>

<span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">(</span><span class="n">searchParams</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;family&quot;</span><span class="p">:</span><span class="s2">&quot;koepp&quot;</span><span class="p">})</span>\
    <span class="o">.</span><span class="n">getDiagnosticReports</span><span class="p">()</span>\
            <span class="o">.</span><span class="n">getPatients</span><span class="p">()</span>\
                    <span class="o">.</span><span class="n">getRootPatients</span><span class="p">()</span>\
                            <span class="o">.</span><span class="n">gatherSimplePaths</span><span class="p">([</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;birthDate&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>birthDate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>7ca61bcb-80a6-43fb-ad49-7334df273d39</td>
      <td>2007-11-18</td>
    </tr>
    <tr>
      <th>1</th>
      <td>7ca61bcb-80a6-43fb-ad49-7334df273d39</td>
      <td>2007-11-18</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7ca61bcb-80a6-43fb-ad49-7334df273d39</td>
      <td>2007-11-18</td>
    </tr>
    <tr>
      <th>3</th>
      <td>7ca61bcb-80a6-43fb-ad49-7334df273d39</td>
      <td>2007-11-18</td>
    </tr>
    <tr>
      <th>4</th>
      <td>7ca61bcb-80a6-43fb-ad49-7334df273d39</td>
      <td>2007-11-18</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>64</th>
      <td>2744581</td>
      <td>1956-08-03</td>
    </tr>
    <tr>
      <th>65</th>
      <td>2744581</td>
      <td>1956-08-03</td>
    </tr>
    <tr>
      <th>66</th>
      <td>2744581</td>
      <td>1956-08-03</td>
    </tr>
    <tr>
      <th>67</th>
      <td>2744581</td>
      <td>1956-08-03</td>
    </tr>
    <tr>
      <th>68</th>
      <td>2744581</td>
      <td>1956-08-03</td>
    </tr>
  </tbody>
</table>
<p>69 rows  2 columns</p>
</div></div>
</div>
</section>
<section id="FHIR-PACK-Usage">
<h2>FHIR PACK Usage<a class="headerlink" href="#FHIR-PACK-Usage" title="Permalink to this headline">#</a></h2>
</section>
<section id="References">
<h2>References<a class="headerlink" href="#References" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">patientReference</span> <span class="o">=</span> <span class="n">pack</span><span class="o">.</span><span class="n">getReferences</span><span class="p">([</span><span class="s1">&#39;Patient/647487&#39;</span><span class="p">])</span>
<span class="n">patientReference</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_resource</span><span class="p">()</span><span class="o">.</span><span class="n">serialize</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;resourceType&#39;: &#39;Patient&#39;,
 &#39;id&#39;: &#39;647487&#39;,
 &#39;meta&#39;: {&#39;versionId&#39;: &#39;1&#39;,
  &#39;lastUpdated&#39;: &#39;2020-03-20T21:38:58.974+00:00&#39;,
  &#39;source&#39;: &#39;#bE19PhJ3nQMhB1xy&#39;},
 &#39;text&#39;: {&#39;status&#39;: &#39;generated&#39;,
  &#39;div&#39;: &#39;&lt;div xmlns=&#34;http://www.w3.org/1999/xhtml&#34;&gt;&lt;div class=&#34;hapiHeaderText&#34;&gt;Series_Status: Not complete Evaluation_Status_1.0: Valid Evaluation_Status_2.0: Valid Evaluation_Status_3.0: Valid Evaluation_Status_4.0: Valid Evaluation_Status_5.0: Valid &lt;b&gt;# 5 PENTACEL AT  4 YRS &lt;/b&gt;&lt;/div&gt;&lt;table class=&#34;hapiPropertyTable&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Date of birth&lt;/td&gt;&lt;td&gt;&lt;span&gt;20 January 2016&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&#39;},
 &#39;name&#39;: [{&#39;family&#39;: &#39;# 5 Pentacel at  4 yrs&#39;,
   &#39;given&#39;: [&#39;Series_Status: Not complete&#39;,
    &#39;Evaluation_Status_1.0: Valid&#39;,
    &#39;Evaluation_Status_2.0: Valid&#39;,
    &#39;Evaluation_Status_3.0: Valid&#39;,
    &#39;Evaluation_Status_4.0: Valid&#39;,
    &#39;Evaluation_Status_5.0: Valid&#39;]}],
 &#39;gender&#39;: &#39;female&#39;,
 &#39;birthDate&#39;: &#39;2016-01-20&#39;}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># getResources applied to References simplifies the conversion</span>
<span class="c1"># of FHIR/FHIRpy References to Resources</span>

<span class="n">patientReference</span><span class="o">.</span><span class="n">getResources</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': '647487', 'm...</td>
      <td>647487</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Resources">
<h2>Resources<a class="headerlink" href="#Resources" title="Permalink to this headline">#</a></h2>
</section>
<section id="Reference-to-Resource">
<h2>Reference to Resource<a class="headerlink" href="#Reference-to-Resource" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">multiPatientReference</span> <span class="o">=</span> <span class="n">pack</span><span class="o">.</span><span class="n">getReferences</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="s1">&#39;Patient/1849165&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Patient/647487&#39;</span>
    <span class="p">])</span>

<span class="n">multiPatientReference</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">.</span><span class="n">id</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0    1849165
1     647487
Name: data, dtype: object
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">multiPatientReference</span><span class="o">.</span><span class="n">getResources</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': '1849165', '...</td>
      <td>1849165</td>
    </tr>
    <tr>
      <th>1</th>
      <td>{'resourceType': 'Patient', 'id': '647487', 'm...</td>
      <td>647487</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Direct-Resource">
<h2>Direct Resource<a class="headerlink" href="#Direct-Resource" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">(</span>
    <span class="n">searchParams</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;given&quot;</span><span class="p">:</span><span class="s2">&quot;max&quot;</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': '2583214', '...</td>
      <td>2583214</td>
    </tr>
    <tr>
      <th>1</th>
      <td>{'resourceType': 'Patient', 'id': '2583215', '...</td>
      <td>2583215</td>
    </tr>
    <tr>
      <th>2</th>
      <td>{'resourceType': 'Patient', 'id': '6844384', '...</td>
      <td>6844384</td>
    </tr>
    <tr>
      <th>3</th>
      <td>{'resourceType': 'Patient', 'id': '6844385', '...</td>
      <td>6844385</td>
    </tr>
    <tr>
      <th>4</th>
      <td>{'resourceType': 'Patient', 'id': '6844388', '...</td>
      <td>6844388</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>555</th>
      <td>{'resourceType': 'Patient', 'id': '6841240', '...</td>
      <td>6841240</td>
    </tr>
    <tr>
      <th>556</th>
      <td>{'resourceType': 'Patient', 'id': '6841241', '...</td>
      <td>6841241</td>
    </tr>
    <tr>
      <th>557</th>
      <td>{'resourceType': 'Patient', 'id': '6842052', '...</td>
      <td>6842052</td>
    </tr>
    <tr>
      <th>558</th>
      <td>{'resourceType': 'Patient', 'id': '6842064', '...</td>
      <td>6842064</td>
    </tr>
    <tr>
      <th>559</th>
      <td>{'resourceType': 'Patient', 'id': '6842065', '...</td>
      <td>6842065</td>
    </tr>
  </tbody>
</table>
<p>560 rows  2 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">(</span>
    <span class="n">searchParams</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;family&quot;</span><span class="p">:</span><span class="s2">&quot;Betterhalf&quot;</span><span class="p">}</span>
<span class="p">)</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(12, 2)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">multiPatientResource</span> <span class="o">=</span> <span class="n">pack</span><span class="o">.</span><span class="n">getResources</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;Patient/1849165&#39;</span><span class="p">,</span>
     <span class="s1">&#39;Patient/647487&#39;</span><span class="p">]</span>
<span class="p">)</span>

<span class="n">multiPatientResource</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': '1849165', '...</td>
      <td>1849165</td>
    </tr>
    <tr>
      <th>1</th>
      <td>{'resourceType': 'Patient', 'id': '647487', 'm...</td>
      <td>647487</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Serialization-and-Element-Access">
<h2>Serialization and Element Access<a class="headerlink" href="#Serialization-and-Element-Access" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">patientResource</span> <span class="o">=</span> <span class="n">patientReference</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_resource</span><span class="p">()</span>

<span class="n">patientResource</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;given&#39;</span><span class="p">]</span>

<span class="n">patientResource</span><span class="o">.</span><span class="n">serialize</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;birthDate&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;Series_Status: Not complete&#39;,
 &#39;Evaluation_Status_1.0: Valid&#39;,
 &#39;Evaluation_Status_2.0: Valid&#39;,
 &#39;Evaluation_Status_3.0: Valid&#39;,
 &#39;Evaluation_Status_4.0: Valid&#39;,
 &#39;Evaluation_Status_5.0: Valid&#39;]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;2016-01-20&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">multiPatientReference</span><span class="o">.</span><span class="n">summary</span>
<span class="n">multiPatientReference</span><span class="o">.</span><span class="n">getResources</span><span class="p">()</span><span class="o">.</span><span class="n">summary</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>resourceType</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1849165</td>
      <td>Patient</td>
    </tr>
    <tr>
      <th>1</th>
      <td>647487</td>
      <td>Patient</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>name.given</th>
      <th>name.family</th>
      <th>birthDate</th>
      <th>city</th>
      <th>state</th>
      <th>country</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1849165</td>
      <td>[[Peter, James], [Jim], [Peter, James]]</td>
      <td>[Chalmers, Windsor]</td>
      <td>1974-12-25</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>647487</td>
      <td>[[Series_Status: Not complete, Evaluation_Stat...</td>
      <td>[# 5 Pentacel at  4 yrs]</td>
      <td>2016-01-20</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">multiPatientResource</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">pretty</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[
    {
        &#34;_birthDate&#34;: {
            &#34;extension&#34;: [
                {
                    &#34;url&#34;: &#34;http://hl7.org/fhir/StructureDefinition/patient-birthTime&#34;,
                    &#34;valueDateTime&#34;: &#34;1974-12-25T14:35:45-05:00&#34;
                }
            ]
        },
        &#34;active&#34;: true,
        &#34;address&#34;: [
            {
                &#34;city&#34;: &#34;PleasantVille&#34;,
                &#34;district&#34;: &#34;Rainbow&#34;,
                &#34;line&#34;: [
                    &#34;534 Erewhon St&#34;
                ],
                &#34;period&#34;: {
                    &#34;start&#34;: &#34;1974-12-25&#34;
                },
                &#34;postalCode&#34;: &#34;3999&#34;,
                &#34;state&#34;: &#34;Vic&#34;,
                &#34;text&#34;: &#34;534 Erewhon St PeasantVille, Rainbow, Vic  3999&#34;,
                &#34;type&#34;: &#34;both&#34;,
                &#34;use&#34;: &#34;home&#34;
            }
        ],
        &#34;birthDate&#34;: &#34;1974-12-25&#34;,
        &#34;contact&#34;: [
            {
                &#34;address&#34;: {
                    &#34;city&#34;: &#34;PleasantVille&#34;,
                    &#34;district&#34;: &#34;Rainbow&#34;,
                    &#34;line&#34;: [
                        &#34;534 Erewhon St&#34;
                    ],
                    &#34;period&#34;: {
                        &#34;start&#34;: &#34;1974-12-25&#34;
                    },
                    &#34;postalCode&#34;: &#34;3999&#34;,
                    &#34;state&#34;: &#34;Vic&#34;,
                    &#34;type&#34;: &#34;both&#34;,
                    &#34;use&#34;: &#34;home&#34;
                },
                &#34;gender&#34;: &#34;female&#34;,
                &#34;name&#34;: {
                    &#34;_family&#34;: {
                        &#34;extension&#34;: [
                            {
                                &#34;url&#34;: &#34;http://hl7.org/fhir/StructureDefinition/humanname-own-prefix&#34;,
                                &#34;valueString&#34;: &#34;VV&#34;
                            }
                        ]
                    },
                    &#34;family&#34;: &#34;du March\u00e9&#34;,
                    &#34;given&#34;: [
                        &#34;B\u00e9n\u00e9dicte&#34;
                    ]
                },
                &#34;period&#34;: {
                    &#34;start&#34;: &#34;2012&#34;
                },
                &#34;relationship&#34;: [
                    {
                        &#34;coding&#34;: [
                            {
                                &#34;code&#34;: &#34;N&#34;,
                                &#34;system&#34;: &#34;http://terminology.hl7.org/CodeSystem/v2-0131&#34;
                            }
                        ]
                    }
                ],
                &#34;telecom&#34;: [
                    {
                        &#34;system&#34;: &#34;phone&#34;,
                        &#34;value&#34;: &#34;+33 (237) 998327&#34;
                    }
                ]
            }
        ],
        &#34;deceasedBoolean&#34;: false,
        &#34;gender&#34;: &#34;male&#34;,
        &#34;id&#34;: &#34;1849165&#34;,
        &#34;identifier&#34;: [
            {
                &#34;assigner&#34;: {
                    &#34;display&#34;: &#34;Acme Healthcare&#34;
                },
                &#34;period&#34;: {
                    &#34;start&#34;: &#34;2001-05-06&#34;
                },
                &#34;system&#34;: &#34;urn:oid:1.2.36.146.595.217.0.1&#34;,
                &#34;type&#34;: {
                    &#34;coding&#34;: [
                        {
                            &#34;code&#34;: &#34;MR&#34;,
                            &#34;system&#34;: &#34;http://terminology.hl7.org/CodeSystem/v2-0203&#34;
                        }
                    ]
                },
                &#34;use&#34;: &#34;usual&#34;,
                &#34;value&#34;: &#34;12345&#34;
            }
        ],
        &#34;managingOrganization&#34;: {
            &#34;reference&#34;: &#34;Organization/1845391&#34;
        },
        &#34;meta&#34;: {
            &#34;lastUpdated&#34;: &#34;2021-02-08T21:42:25.829+00:00&#34;,
            &#34;source&#34;: &#34;#PBPO58xnJNERsS1A&#34;,
            &#34;versionId&#34;: &#34;1&#34;
        },
        &#34;name&#34;: [
            {
                &#34;family&#34;: &#34;Chalmers&#34;,
                &#34;given&#34;: [
                    &#34;Peter&#34;,
                    &#34;James&#34;
                ],
                &#34;use&#34;: &#34;official&#34;
            },
            {
                &#34;given&#34;: [
                    &#34;Jim&#34;
                ],
                &#34;use&#34;: &#34;usual&#34;
            },
            {
                &#34;family&#34;: &#34;Windsor&#34;,
                &#34;given&#34;: [
                    &#34;Peter&#34;,
                    &#34;James&#34;
                ],
                &#34;period&#34;: {
                    &#34;end&#34;: &#34;2002&#34;
                },
                &#34;use&#34;: &#34;maiden&#34;
            }
        ],
        &#34;resourceType&#34;: &#34;Patient&#34;,
        &#34;telecom&#34;: [
            {
                &#34;use&#34;: &#34;home&#34;
            },
            {
                &#34;rank&#34;: 1,
                &#34;system&#34;: &#34;phone&#34;,
                &#34;use&#34;: &#34;work&#34;,
                &#34;value&#34;: &#34;(03) 5555 6473&#34;
            },
            {
                &#34;rank&#34;: 2,
                &#34;system&#34;: &#34;phone&#34;,
                &#34;use&#34;: &#34;mobile&#34;,
                &#34;value&#34;: &#34;(03) 3410 5613&#34;
            },
            {
                &#34;period&#34;: {
                    &#34;end&#34;: &#34;2014&#34;
                },
                &#34;system&#34;: &#34;phone&#34;,
                &#34;use&#34;: &#34;old&#34;,
                &#34;value&#34;: &#34;(03) 5555 8834&#34;
            }
        ],
        &#34;text&#34;: {
            &#34;div&#34;: &#34;&lt;div xmlns=\&#34;http://www.w3.org/1999/xhtml\&#34;&gt;\n\t\t\t&lt;table&gt;\n\t\t\t\t&lt;tbody&gt;\n\t\t\t\t\t&lt;tr&gt;\n\t\t\t\t\t\t&lt;td&gt;Name&lt;/td&gt;\n\t\t\t\t\t\t&lt;td&gt;Peter James \n              &lt;b&gt;Chalmers&lt;/b&gt; (&amp;quot;Jim&amp;quot;)\n            &lt;/td&gt;\n\t\t\t\t\t&lt;/tr&gt;\n\t\t\t\t\t&lt;tr&gt;\n\t\t\t\t\t\t&lt;td&gt;Address&lt;/td&gt;\n\t\t\t\t\t\t&lt;td&gt;534 Erewhon, Pleasantville, Vic, 3999&lt;/td&gt;\n\t\t\t\t\t&lt;/tr&gt;\n\t\t\t\t\t&lt;tr&gt;\n\t\t\t\t\t\t&lt;td&gt;Contacts&lt;/td&gt;\n\t\t\t\t\t\t&lt;td&gt;Home: unknown. Work: (03) 5555 6473&lt;/td&gt;\n\t\t\t\t\t&lt;/tr&gt;\n\t\t\t\t\t&lt;tr&gt;\n\t\t\t\t\t\t&lt;td&gt;Id&lt;/td&gt;\n\t\t\t\t\t\t&lt;td&gt;MRN: 12345 (Acme Healthcare)&lt;/td&gt;\n\t\t\t\t\t&lt;/tr&gt;\n\t\t\t\t&lt;/tbody&gt;\n\t\t\t&lt;/table&gt;\n\t\t&lt;/div&gt;&#34;,
            &#34;status&#34;: &#34;generated&#34;
        }
    }
]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getDiagnosticReports</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;Patient/647487&#39;</span><span class="p">]</span>
<span class="p">)[:</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
resourceType
id
meta
meta.versionId
meta.lastUpdated
meta.source
text
text.status
text.div
name
name.family
name.given
gender
birthDate
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
</section>
<section id="DataFrame-Operations">
<h2>DataFrame Operations<a class="headerlink" href="#DataFrame-Operations" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">multiPatientReference</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span>

<span class="n">multiPatientReference</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span>

<span class="n">multiPatientReference</span><span class="o">.</span><span class="n">values</span>

<span class="n">multiPatientReference</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'reference': 'Patient/1849165'}</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>{'reference': 'Patient/647487'}</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([[&lt;SyncFHIRReference Patient/1849165&gt;],
       [&lt;SyncFHIRReference Patient/647487&gt;]], dtype=object)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;class &#39;fhirpack.base.Frame&#39;&gt;
RangeIndex: 2 entries, 0 to 1
Data columns (total 1 columns):
 #   Column  Non-Null Count  Dtype
---  ------  --------------  -----
 0   data    2 non-null      object
dtypes: object(1)
memory usage: 144.0+ bytes
</pre></div></div>
</div>
</section>
<section id="pack.base.Frame">
<h2>pack.base.Frame<a class="headerlink" href="#pack.base.Frame" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fp</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span> <span class="p">[[</span><span class="n">patientResource</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': '647487', 'm...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Extraction">
<h2>Extraction<a class="headerlink" href="#Extraction" title="Permalink to this headline">#</a></h2>
</section>
<section id="Patient-Extraction">
<h2>Patient Extraction<a class="headerlink" href="#Patient-Extraction" title="Permalink to this headline">#</a></h2>
</section>
<section id="fhirpack.extraction.getPatients">
<h2>fhirpack.extraction.getPatients<a class="headerlink" href="#fhirpack.extraction.getPatients" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">(</span>
    <span class="p">[</span>
            <span class="s1">&#39;647487&#39;</span>
    <span class="p">]</span>
<span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': '647487', 'm...</td>
      <td>647487</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">(</span>
    <span class="p">[</span>
            <span class="s1">&#39;647487&#39;</span>
    <span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">item</span><span class="p">()</span><span class="o">.</span><span class="n">serialize</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;resourceType&#39;: &#39;Patient&#39;,
 &#39;id&#39;: &#39;647487&#39;,
 &#39;meta&#39;: {&#39;versionId&#39;: &#39;1&#39;,
  &#39;lastUpdated&#39;: &#39;2020-03-20T21:38:58.974+00:00&#39;,
  &#39;source&#39;: &#39;#bE19PhJ3nQMhB1xy&#39;},
 &#39;text&#39;: {&#39;status&#39;: &#39;generated&#39;,
  &#39;div&#39;: &#39;&lt;div xmlns=&#34;http://www.w3.org/1999/xhtml&#34;&gt;&lt;div class=&#34;hapiHeaderText&#34;&gt;Series_Status: Not complete Evaluation_Status_1.0: Valid Evaluation_Status_2.0: Valid Evaluation_Status_3.0: Valid Evaluation_Status_4.0: Valid Evaluation_Status_5.0: Valid &lt;b&gt;# 5 PENTACEL AT  4 YRS &lt;/b&gt;&lt;/div&gt;&lt;table class=&#34;hapiPropertyTable&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Date of birth&lt;/td&gt;&lt;td&gt;&lt;span&gt;20 January 2016&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&#39;},
 &#39;name&#39;: [{&#39;family&#39;: &#39;# 5 Pentacel at  4 yrs&#39;,
   &#39;given&#39;: [&#39;Series_Status: Not complete&#39;,
    &#39;Evaluation_Status_1.0: Valid&#39;,
    &#39;Evaluation_Status_2.0: Valid&#39;,
    &#39;Evaluation_Status_3.0: Valid&#39;,
    &#39;Evaluation_Status_4.0: Valid&#39;,
    &#39;Evaluation_Status_5.0: Valid&#39;]}],
 &#39;gender&#39;: &#39;female&#39;,
 &#39;birthDate&#39;: &#39;2016-01-20&#39;}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;647487&#39;</span><span class="p">,</span><span class="s1">&#39;1849165&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="nb">print</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Row </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> with Patient ID </span><span class="si">{</span><span class="n">r</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Row 0 with Patient ID 647487
Row 1 with Patient ID 1849165
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">getPatientsAsList</span><span class="o">=</span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;647487&#39;</span><span class="p">,</span><span class="s1">&#39;1849165&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>

<span class="n">getPatientsAsList</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[&lt;SyncFHIRResource Patient/647487&gt;, &#39;647487&#39;],
 [&lt;SyncFHIRResource Patient/1849165&gt;, &#39;1849165&#39;]]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">getPatientsAsList</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[&lt;SyncFHIRResource Patient/647487&gt;, &#39;647487&#39;],
 [&lt;SyncFHIRResource Patient/1849165&gt;, &#39;1849165&#39;]]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">getPatientsAsList</span><span class="p">]</span>

<span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">getPatientsAsList</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;647487&#39;, &#39;1849165&#39;]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;647487&#39;, &#39;1849165&#39;]
</pre></div></div>
</div>
</section>
<section id="Patients-as-Operand-and-Extracting-other-Resources">
<h2>Patients as Operand and Extracting other Resources<a class="headerlink" href="#Patients-as-Operand-and-Extracting-other-Resources" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">patients</span> <span class="o">=</span> <span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;9ac622c4-61c8-40b4-b6d9-06cfeb3d6995&#39;</span><span class="p">,</span>
    <span class="s1">&#39;1849165&#39;</span><span class="p">,</span>
    <span class="s1">&#39;649231&#39;</span><span class="p">,</span>
    <span class="s1">&#39;650224&#39;</span><span class="p">]</span>
<span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
</section>
<section id="fhirpack.extraction.getRootPatient">
<h2>fhirpack.extraction.getRootPatient<a class="headerlink" href="#fhirpack.extraction.getRootPatient" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">patients</span><span class="o">.</span><span class="n">getRootPatients</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>RootPatient</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': '9ac622c4-61...</td>
      <td>9ac622c4-61c8-40b4-b6d9-06cfeb3d6995</td>
      <td>9ac622c4-61c8-40b4-b6d9-06cfeb3d6995</td>
    </tr>
    <tr>
      <th>1</th>
      <td>{'resourceType': 'Patient', 'id': '1849165', '...</td>
      <td>1849165</td>
      <td>1849165</td>
    </tr>
    <tr>
      <th>2</th>
      <td>{'resourceType': 'Patient', 'id': '649231', 'm...</td>
      <td>649231</td>
      <td>649231</td>
    </tr>
    <tr>
      <th>3</th>
      <td>{'resourceType': 'Patient', 'id': '650224', 'm...</td>
      <td>650224</td>
      <td>650224</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getRootPatients</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="s1">&#39;b558da74-7756-4845-87d5-d1cca8b79a62&#39;</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">)</span><span class="o">.</span><span class="n">getLinkedPatients</span><span class="p">()</span>

<span class="c1"># .gatherSimplePaths([&quot;id&quot;]).id.unique()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>LinkedPatient</th>
      <th>RootPatient</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': 'b558da74-77...</td>
      <td>b558da74-7756-4845-87d5-d1cca8b79a62</td>
      <td>9ac622c4-61c8-40b4-b6d9-06cfeb3d6995</td>
      <td>b558da74-7756-4845-87d5-d1cca8b79a62</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getResources</span><span class="p">(</span>
    <span class="p">[</span>
            <span class="s1">&#39;Patient/b558da74-7756-4845-87d5-d1cca8b79a62&#39;</span>
    <span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">getRootPatients</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>RootPatient</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': '9ac622c4-61...</td>
      <td>9ac622c4-61c8-40b4-b6d9-06cfeb3d6995</td>
      <td>b558da74-7756-4845-87d5-d1cca8b79a62</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rootPatients</span> <span class="o">=</span> <span class="n">patients</span><span class="o">.</span><span class="n">getRootPatients</span><span class="p">()</span>

<span class="n">rootPatients</span><span class="o">.</span><span class="n">gatherSimplePaths</span><span class="p">([</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;name.given&#39;</span><span class="p">,</span><span class="s1">&#39;name.family&#39;</span><span class="p">,</span><span class="s1">&#39;birthDate&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>name.given</th>
      <th>name.family</th>
      <th>birthDate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>9ac622c4-61c8-40b4-b6d9-06cfeb3d6995</td>
      <td>[[TestGiven]]</td>
      <td>[TestFamily]</td>
      <td>1981-01-01</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1849165</td>
      <td>[[Peter, James], [Jim], [Peter, James]]</td>
      <td>[Chalmers, Windsor]</td>
      <td>1974-12-25</td>
    </tr>
    <tr>
      <th>2</th>
      <td>649231</td>
      <td>[[Series_Status: Complete, Evaluation_Status_1...</td>
      <td>[Dose # 1 PCV 13 at age 12 mos # 2 at 1 yr 8 w...</td>
      <td>2018-12-21</td>
    </tr>
    <tr>
      <th>3</th>
      <td>650224</td>
      <td>[[Series_Status: Not complete, Evaluation_Stat...</td>
      <td>[# 1 at age  13 years old]</td>
      <td>2007-02-08</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rootPatients</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[{&#39;family&#39;: &#39;TestFamily&#39;, &#39;given&#39;: [&#39;TestGiven&#39;]}]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">rootPatients</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;link&#39;</span><span class="p">]:</span>
    <span class="n">lpat</span><span class="o">=</span><span class="n">link</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">to_resource</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">lpat</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
b558da74-7756-4845-87d5-d1cca8b79a62
</pre></div></div>
</div>
</section>
<section id="fhirpack.extraction.getLinkedPatients">
<h2>fhirpack.extraction.getLinkedPatients<a class="headerlink" href="#fhirpack.extraction.getLinkedPatients" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getLinkedPatients</span><span class="p">(</span>
    <span class="p">[</span>
            <span class="s1">&#39;9ac622c4-61c8-40b4-b6d9-06cfeb3d6995&#39;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>LinkedPatient</th>
      <th>RootPatient</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': 'b558da74-77...</td>
      <td>b558da74-7756-4845-87d5-d1cca8b79a62</td>
      <td>9ac622c4-61c8-40b4-b6d9-06cfeb3d6995</td>
      <td>9ac622c4-61c8-40b4-b6d9-06cfeb3d6995</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhirpack.extraction.getConditions">
<h2>fhirpack.extraction.getConditions<a class="headerlink" href="#fhirpack.extraction.getConditions" title="Permalink to this headline">#</a></h2>
</section>
<section id="Conditions">
<h2>Conditions<a class="headerlink" href="#Conditions" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conditions</span> <span class="o">=</span> <span class="n">pack</span><span class="o">.</span><span class="n">getConditions</span><span class="p">(</span>
    <span class="n">searchParams</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;code&#39;</span><span class="p">:</span><span class="s1">&#39;44465007&#39;</span><span class="p">,</span>
            <span class="s1">&#39;_sort&#39;</span><span class="p">:</span> <span class="s1">&#39;-onset-date&#39;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)[:</span><span class="mi">5</span><span class="p">]</span>

<span class="n">conditions</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>Condition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Condition', 'id': '1584692',...</td>
      <td>1584692</td>
    </tr>
    <tr>
      <th>1</th>
      <td>{'resourceType': 'Condition', 'id': '1591180',...</td>
      <td>1591180</td>
    </tr>
    <tr>
      <th>2</th>
      <td>{'resourceType': 'Condition', 'id': '1402386',...</td>
      <td>1402386</td>
    </tr>
    <tr>
      <th>3</th>
      <td>{'resourceType': 'Condition', 'id': '1403562',...</td>
      <td>1403562</td>
    </tr>
    <tr>
      <th>4</th>
      <td>{'resourceType': 'Condition', 'id': '1495528',...</td>
      <td>1495528</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Patients-for-Conditions">
<h2>Patients for Conditions<a class="headerlink" href="#Patients-for-Conditions" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conditions</span><span class="o">.</span><span class="n">getPatients</span><span class="p">()</span><span class="o">.</span><span class="n">explode</span><span class="p">()</span><span class="o">.</span><span class="n">gatherSimplePaths</span><span class="p">([</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;name.given&#39;</span><span class="p">,</span><span class="s1">&#39;name.family&#39;</span><span class="p">])</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>name.given</th>
      <th>name.family</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>65</th>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>66</th>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>67</th>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>68</th>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>69</th>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
<p>70 rows  3 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conditions</span>\
    <span class="o">.</span><span class="n">getPatients</span><span class="p">()</span>\
                    <span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>\
                            <span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;data.ignore&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>cat data.ignore
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
,data
0,1402076
1,1403421
2,1495412
3,1583909
4,1590885
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conditions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span> <span class="sa">f</span><span class="s2">&quot;data.ignore&quot;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">conditions</span><span class="o">.</span><span class="n">shape</span>
<span class="n">conditions</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(5, 1)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1402076</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1403421</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1495412</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1583909</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1590885</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Conditions-for-Patient">
<h2>Conditions for Patient<a class="headerlink" href="#Conditions-for-Patient" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[93]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;8cbf1128-3644-47a1-9cc8-05f1aac6071d&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">getConditions</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[93]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>Condition</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Condition', 'id': '2b7a4d69-...</td>
      <td>2b7a4d69-00fd-4574-86da-bdf46b21b72b</td>
      <td>8cbf1128-3644-47a1-9cc8-05f1aac6071d</td>
    </tr>
    <tr>
      <th>1</th>
      <td>{'resourceType': 'Condition', 'id': '0fc73e7c-...</td>
      <td>0fc73e7c-18a8-47d8-bdc9-82df7f06e4a8</td>
      <td>8cbf1128-3644-47a1-9cc8-05f1aac6071d</td>
    </tr>
    <tr>
      <th>2</th>
      <td>{'resourceType': 'Condition', 'id': 'cb1bab6c-...</td>
      <td>cb1bab6c-581b-47f4-8036-429462224f55</td>
      <td>8cbf1128-3644-47a1-9cc8-05f1aac6071d</td>
    </tr>
    <tr>
      <th>3</th>
      <td>{'resourceType': 'Condition', 'id': 'bc301bbf-...</td>
      <td>bc301bbf-d354-4422-abe8-f7fe9c48d83c</td>
      <td>8cbf1128-3644-47a1-9cc8-05f1aac6071d</td>
    </tr>
    <tr>
      <th>4</th>
      <td>{'resourceType': 'Condition', 'id': '5db4866a-...</td>
      <td>5db4866a-c48a-4b62-923b-96daa243226b</td>
      <td>8cbf1128-3644-47a1-9cc8-05f1aac6071d</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhipack.extraction.getEpisodesOfCare">
<h2>fhipack.extraction.getEpisodesOfCare<a class="headerlink" href="#fhipack.extraction.getEpisodesOfCare" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rootPatients</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>RootPatient</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': '9ac622c4-61...</td>
      <td>9ac622c4-61c8-40b4-b6d9-06cfeb3d6995</td>
      <td>9ac622c4-61c8-40b4-b6d9-06cfeb3d6995</td>
    </tr>
    <tr>
      <th>1</th>
      <td>{'resourceType': 'Patient', 'id': '1849165', '...</td>
      <td>1849165</td>
      <td>1849165</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;P0522-patientBSJ1&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">getEpisodesOfCare</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>EpisodeOfCare</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'EpisodeOfCare', 'id': 'P0522...</td>
      <td>P0522-eLTSS-episode-Initial</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhipack.extraction.getFamilyMemberHistories">
<h2>fhipack.extraction.getFamilyMemberHistories<a class="headerlink" href="#fhipack.extraction.getFamilyMemberHistories" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;Patient/2866670&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">getFamilyMemberHistories</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>FamilyMemberHistory</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhipack.extraction.getMedicationAdministrations">
<h2>fhipack.extraction.getMedicationAdministrations<a class="headerlink" href="#fhipack.extraction.getMedicationAdministrations" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;Patient/31678&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">getMedicationAdministrations</span><span class="p">()[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>MedicationAdministration</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'MedicationAdministration', '...</td>
      <td>31675</td>
      <td>31678</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhipack.extraction.getMedicationRequests">
<h2>fhipack.extraction.getMedicationRequests<a class="headerlink" href="#fhipack.extraction.getMedicationRequests" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[62]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;Patient/202205uscore-patient-example-1&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">getMedicationRequests</span><span class="p">()</span><span class="o">.</span><span class="n">explode</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[62]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>MedicationRequest</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhipack.extraction.getObservations">
<h2>fhipack.extraction.getObservations<a class="headerlink" href="#fhipack.extraction.getObservations" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span>\
    <span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;Patient/258974&#39;</span><span class="p">])</span>\
            <span class="o">.</span><span class="n">getConditions</span><span class="p">(</span><span class="n">searchParams</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;44465007&quot;</span><span class="p">})</span>\
                            <span class="o">.</span><span class="n">getPatients</span><span class="p">(</span><span class="n">searchParams</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;family&quot;</span><span class="p">:</span><span class="s2">&quot;Keebler762&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>Patient</th>
      <th>Condition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': '258974', 'm...</td>
      <td>258974</td>
      <td>259094</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[64]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><br/><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="n">interesting</span> <span class="o">=</span> <span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;Patient/2164033&#39;</span><span class="p">])</span><span class="o">.</span>\
    <span class="n">getObservations</span><span class="p">(</span>
        <span class="n">searchParams</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;http ://loinc.org|29463-7&quot;</span><span class="p">,</span>
        <span class="p">})</span>\
        <span class="o">.</span><span class="n">gatherSimplePaths</span><span class="p">([</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;issued&#39;</span><span class="p">,</span><span class="s1">&#39;code.coding.code&#39;</span><span class="p">])</span>\
        <span class="o">.</span><span class="n">explode</span><span class="p">([</span><span class="s1">&#39;code.coding.code&#39;</span><span class="p">])</span>

<span class="n">interesting</span><span class="o">.</span><span class="n">issued</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">interesting</span><span class="o">.</span><span class="n">issued</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
<span class="n">interesting</span><span class="p">[</span><span class="n">interesting</span><span class="o">.</span><span class="n">issued</span><span class="o">&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="s1">&#39;2021-01-01T00:00:00&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[64]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>issued</th>
      <th>code.coding.code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2164039</td>
      <td>2021-06-05 05:30:23.291</td>
      <td>29463-7</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhirpack.extraction.getDiagnosticReports">
<h2>fhirpack.extraction.getDiagnosticReports<a class="headerlink" href="#fhirpack.extraction.getDiagnosticReports" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">diagnosticReports</span><span class="o">=</span><span class="n">pack</span>\
    <span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s2">&quot;Patient/9b8c1901-62ee-48a7-8229-b771d59f1e5f&quot;</span><span class="p">])</span>\
            <span class="o">.</span><span class="n">getDiagnosticReports</span><span class="p">(</span>
                    <span class="n">searchParams</span><span class="o">=</span><span class="p">{}</span>
                    <span class="p">)</span>\

<span class="n">diagnosticReports</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>DiagnosticReport</th>
      <th>Patient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'DiagnosticReport', 'id': '12...</td>
      <td>122da94f-d24b-47ef-8409-58eb023cfb78</td>
      <td>9b8c1901-62ee-48a7-8229-b771d59f1e5f</td>
    </tr>
    <tr>
      <th>1</th>
      <td>{'resourceType': 'DiagnosticReport', 'id': '5a...</td>
      <td>5a1a396b-783c-495c-ace9-cedce2f0c335</td>
      <td>9b8c1901-62ee-48a7-8229-b771d59f1e5f</td>
    </tr>
    <tr>
      <th>2</th>
      <td>{'resourceType': 'DiagnosticReport', 'id': '2d...</td>
      <td>2d363733-58cb-4aba-b73f-487181359418</td>
      <td>9b8c1901-62ee-48a7-8229-b771d59f1e5f</td>
    </tr>
    <tr>
      <th>3</th>
      <td>{'resourceType': 'DiagnosticReport', 'id': '01...</td>
      <td>013d71cd-e38e-497c-9382-b21fb5eb5f53</td>
      <td>9b8c1901-62ee-48a7-8229-b771d59f1e5f</td>
    </tr>
    <tr>
      <th>4</th>
      <td>{'resourceType': 'DiagnosticReport', 'id': '47...</td>
      <td>471713d6-69eb-4fcf-900d-2eccf9d10f69</td>
      <td>9b8c1901-62ee-48a7-8229-b771d59f1e5f</td>
    </tr>
    <tr>
      <th>5</th>
      <td>{'resourceType': 'DiagnosticReport', 'id': 'b1...</td>
      <td>b17c7848-f6c5-49a7-bd0a-f018ecc422de</td>
      <td>9b8c1901-62ee-48a7-8229-b771d59f1e5f</td>
    </tr>
    <tr>
      <th>6</th>
      <td>{'resourceType': 'DiagnosticReport', 'id': '58...</td>
      <td>58c69ea7-b4be-40a5-a59e-459b8fed660a</td>
      <td>9b8c1901-62ee-48a7-8229-b771d59f1e5f</td>
    </tr>
    <tr>
      <th>7</th>
      <td>{'resourceType': 'DiagnosticReport', 'id': '87...</td>
      <td>873433a5-68ed-42da-a6a0-d0ef3f7fd9ef</td>
      <td>9b8c1901-62ee-48a7-8229-b771d59f1e5f</td>
    </tr>
    <tr>
      <th>8</th>
      <td>{'resourceType': 'DiagnosticReport', 'id': '8c...</td>
      <td>8c5adc06-2c8c-431f-9492-d7c9ef99635d</td>
      <td>9b8c1901-62ee-48a7-8229-b771d59f1e5f</td>
    </tr>
    <tr>
      <th>9</th>
      <td>{'resourceType': 'DiagnosticReport', 'id': 'ac...</td>
      <td>ac83cf63-9ea8-43ce-89a8-21a6b3d3319d</td>
      <td>9b8c1901-62ee-48a7-8229-b771d59f1e5f</td>
    </tr>
    <tr>
      <th>10</th>
      <td>{'resourceType': 'DiagnosticReport', 'id': 'bc...</td>
      <td>bcd144a0-7a88-4a7c-bcb1-acf8601d6f54</td>
      <td>9b8c1901-62ee-48a7-8229-b771d59f1e5f</td>
    </tr>
    <tr>
      <th>11</th>
      <td>{'resourceType': 'DiagnosticReport', 'id': 'bf...</td>
      <td>bf0754d5-26cd-46b3-a675-32e718d17a28</td>
      <td>9b8c1901-62ee-48a7-8229-b771d59f1e5f</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">paths</span><span class="o">=</span><span class="p">[</span>
    <span class="s2">&quot;subject&quot;</span><span class="p">,</span>
    <span class="s2">&quot;presentedForm.contentType&quot;</span><span class="p">,</span>
    <span class="s2">&quot;presentedForm.data&quot;</span><span class="p">,</span>
    <span class="s2">&quot;presentedForm.url&quot;</span><span class="p">,</span>
    <span class="s2">&quot;presentedForm.title&quot;</span><span class="p">,</span>
    <span class="s2">&quot;presentedForm.creation&quot;</span>
<span class="p">]</span>



<span class="n">diagnosticReports</span><span class="o">=</span><span class="n">pack</span><span class="o">.</span><span class="n">getDiagnosticReports</span><span class="p">(</span>
    <span class="n">searchParams</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span><span class="p">:</span><span class="s2">&quot;19bdf90a-8ca4-4921-8aeb-2bf3423aaf09&quot;</span><span class="p">,</span>
            <span class="c1"># &quot;identifier&quot;:&quot;|&quot;,</span>
            <span class="c1"># &quot;_content&quot;:&quot;covid19&quot;,</span>
            <span class="c1"># &quot;code&quot;:&quot;|&quot;,</span>
            <span class="c1"># &quot;issued__gt&quot;:&quot;2010-01-01&quot;,</span>
            <span class="c1"># &quot;issued__lt&quot;:&quot;2011-01-01&quot;</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="n">diagnosticReports</span><span class="o">.</span><span class="n">gatherSimplePaths</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>subject</th>
      <th>presentedForm.contentType</th>
      <th>presentedForm.data</th>
      <th>presentedForm.url</th>
      <th>presentedForm.title</th>
      <th>presentedForm.creation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'reference': 'Patient/e92abcdc-a300-41e0-aa0f...</td>
      <td>[text/plain]</td>
      <td>[Q2pJd01UQXRNVEV0TVRNS0NpTWdRMmhwWldZZ1EyOXRjR...</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhirpack.extraction.getURLBytes">
<h2>fhirpack.extraction.getURLBytes<a class="headerlink" href="#fhirpack.extraction.getURLBytes" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[67]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">paths</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;id&#39;</span><span class="p">,</span>
    <span class="s1">&#39;subject.reference&#39;</span><span class="p">,</span>
    <span class="s1">&#39;presentedForm.url&#39;</span>
<span class="p">]</span>

<span class="n">diagnosticReports</span> <span class="o">=</span> <span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc&#39;</span><span class="p">]</span>
    <span class="p">)</span>\
        <span class="o">.</span><span class="n">getDiagnosticReports</span><span class="p">()[:</span><span class="mi">10</span><span class="p">]</span>

<span class="n">diagnosticReports</span><span class="o">=</span><span class="n">diagnosticReports</span><span class="o">.</span><span class="n">gatherSimplePaths</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span>
<span class="n">diagnosticReports</span><span class="o">=</span><span class="n">diagnosticReports</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;presentedForm.url&#39;</span><span class="p">)</span>
<span class="n">diagnosticReports</span>

<span class="c1"># diagnosticReports[&#39;path&#39;]=diagnosticReports[&#39;id&#39;]+&#39;_&#39;+diagnosticReports[&#39;presentedForm.url&#39;].str.split(&#39;/&#39;).str[-1:].str[0]</span>
<span class="c1"># diagnosticReports[&#39;data&#39;]=diagnosticReports.getURLBytes(operateOnCol=&#39;presentedForm.url&#39;)</span>
<span class="c1"># diagnosticReports.sendBytesToFile()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[67]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>subject.reference</th>
      <th>presentedForm.url</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1ca4c411-116d-49d7-82e0-cde6bff90cfd</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>126df183-9908-4df3-80a3-128a10fd6b3a</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>19bdf90a-8ca4-4921-8aeb-2bf3423aaf09</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>71701d6e-3bba-44c0-af75-271558aedb22</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>540317ac-5490-4186-8930-8bfbdaad1055</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>5</th>
      <td>97f7f1b1-661f-4076-9352-e698cdf9ef6f</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>6</th>
      <td>9995355f-1361-45de-aebb-a7446f8f13f7</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>7</th>
      <td>34c775ba-b76d-4ef0-a69f-ab88e90ad151</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1ff86952-9480-45b5-953d-e6056f74659f</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>9</th>
      <td>5bd0f37e-7c1f-40ac-b654-97fa66875f70</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[68]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">diagnosticReports</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">diagnosticReports</span><span class="o">.</span><span class="n">columns</span><span class="o">!=</span><span class="s1">&#39;data&#39;</span><span class="p">][:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[68]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>subject.reference</th>
      <th>presentedForm.url</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1ca4c411-116d-49d7-82e0-cde6bff90cfd</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>126df183-9908-4df3-80a3-128a10fd6b3a</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>19bdf90a-8ca4-4921-8aeb-2bf3423aaf09</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>71701d6e-3bba-44c0-af75-271558aedb22</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>540317ac-5490-4186-8930-8bfbdaad1055</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhirpack.extraction.base.getAbsolutePaths">
<h2>fhirpack.extraction.base.getAbsolutePaths<a class="headerlink" href="#fhirpack.extraction.base.getAbsolutePaths" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[69]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">absolutePaths</span><span class="o">=</span><span class="p">[</span>
<span class="c1">#    &#39;Condition.code.coding.code&#39;,</span>
   <span class="s1">&#39;Condition.id&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Condition.subject.reference&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Encounter.id&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Encounter.participant.individual.reference&#39;</span><span class="p">,</span>
<span class="c1">#     &#39;Procedure.code.coding.display&#39;,</span>
<span class="c1">#     &#39;Procedure.code.coding.code&#39;,</span>
    <span class="s1">&#39;Procedure.id&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Procedure.status&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Procedure.performedDateTime&#39;</span>
<span class="p">]</span>

<span class="n">pack</span><span class="o">.</span><span class="n">client</span>

<span class="n">result</span><span class="o">=</span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc&#39;</span><span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">getAbsolutePaths</span><span class="p">(</span><span class="n">absolutePaths</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[69]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;SyncFHIRClient https://hapi.fhir.org/baseR4&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[70]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;Procedure&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[70]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Procedure.id</th>
      <th>Procedure.performedDateTime</th>
      <th>Procedure.status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>f262bafb-789a-44a1-9453-c21065abc4d1</td>
      <td>None</td>
      <td>completed</td>
    </tr>
    <tr>
      <th>1</th>
      <td>e65c5378-5d1a-4978-9590-c6c8846dd6d0</td>
      <td>None</td>
      <td>completed</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[71]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;Condition&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[71]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Condition.id</th>
      <th>Condition.subject.reference</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>b8a1a1c4-f973-4b6b-a0ea-3d04bc4c8823</td>
      <td>Patient/e92abcdc-a300-41e0-aa0f-378daebe25dc</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[72]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;Encounter&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[72]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Encounter.id</th>
      <th>Encounter.participant.individual.reference</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>b9f19065-c8e6-40b9-b368-b09a8fb9a8d6</td>
      <td>[Practitioner/00000171-0929-2892-0000-00000001...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>174d8c79-5517-4f80-967f-3939f943b2c8</td>
      <td>[Practitioner/00000171-0929-2892-0000-00000001...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3f3a061a-5df2-4dc0-872c-e1e4b88955a1</td>
      <td>[Practitioner/00000171-0929-2892-0000-00000001...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2b8cb0e7-5b1e-4769-a418-bf9e6dd86611</td>
      <td>[Practitioner/00000171-0929-2892-0000-00000001...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>36fb900c-9ff7-4131-812c-536ab50a0a5c</td>
      <td>[Practitioner/00000171-0929-2892-0000-00000000...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>9911ef15-1b9a-4fbd-b95d-05bd4f060269</td>
      <td>[Practitioner/00000171-0929-2892-0000-00000001...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>f3b1e501-aac6-4480-bf35-38474563069a</td>
      <td>[Practitioner/00000171-0929-2892-0000-00000001...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>969f9166-4f9a-4be6-9257-ed00b295a408</td>
      <td>[Practitioner/00000171-0929-2892-0000-00000001...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>806264f4-4f45-4105-a5bc-8e9a9c49b119</td>
      <td>[Practitioner/00000171-0929-2892-0000-00000001...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>40166ee5-0bc3-4819-96c9-e07dd26e938b</td>
      <td>[Practitioner/00000171-0929-2892-0000-00000001...</td>
    </tr>
    <tr>
      <th>10</th>
      <td>48f082f8-b46c-4127-a1b4-8e3c1d71a132</td>
      <td>[Practitioner/00000171-0929-2892-0000-00000001...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[73]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;Encounter&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;Encounter.participant.individual.reference&#39;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Encounter.participant.individual.reference&quot;</span><span class="p">:</span><span class="s2">&quot;data&quot;</span><span class="p">})</span>\
                    <span class="o">.</span><span class="n">dropna</span><span class="p">()</span>\
                            <span class="o">.</span><span class="n">getResources</span><span class="p">()[:</span><span class="mi">5</span><span class="p">]</span>\
                                    <span class="o">.</span><span class="n">gatherSimplePaths</span><span class="p">([</span><span class="s1">&#39;name.given&#39;</span><span class="p">,</span><span class="s1">&#39;name.family&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[73]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name.given</th>
      <th>name.family</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>[[Willy639]]</td>
      <td>[Rutherford999]</td>
    </tr>
    <tr>
      <th>1</th>
      <td>[[Lilla884]]</td>
      <td>[Mills423]</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[74]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">paths</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;valueQuantity.value&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valueQuantity.unit&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valueQuantity.system&#39;</span><span class="p">,</span>
    <span class="s1">&#39;valueQuantity.code&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[75]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;1555106&#39;</span><span class="p">])</span>\
            <span class="o">.</span><span class="n">getObservations</span><span class="p">()[:</span><span class="mi">10</span><span class="p">]</span>\
                            <span class="o">.</span><span class="n">gatherSimplePaths</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[75]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>valueQuantity.value</th>
      <th>valueQuantity.unit</th>
      <th>valueQuantity.system</th>
      <th>valueQuantity.code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>102.12000</td>
      <td>U/L</td>
      <td>http://unitsofmeasure.org</td>
      <td>U/L</td>
    </tr>
    <tr>
      <th>1</th>
      <td>7.58040</td>
      <td>g/dL</td>
      <td>http://unitsofmeasure.org</td>
      <td>g/dL</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6.58630</td>
      <td>mL/min</td>
      <td>http://unitsofmeasure.org</td>
      <td>mL/min</td>
    </tr>
    <tr>
      <th>3</th>
      <td>31.21100</td>
      <td>pg</td>
      <td>http://unitsofmeasure.org</td>
      <td>pg</td>
    </tr>
    <tr>
      <th>4</th>
      <td>20.88000</td>
      <td>mmol/L</td>
      <td>http://unitsofmeasure.org</td>
      <td>mmol/L</td>
    </tr>
    <tr>
      <th>5</th>
      <td>94.10200</td>
      <td>fL</td>
      <td>http://unitsofmeasure.org</td>
      <td>fL</td>
    </tr>
    <tr>
      <th>6</th>
      <td>32.47200</td>
      <td>g/dL</td>
      <td>http://unitsofmeasure.org</td>
      <td>g/dL</td>
    </tr>
    <tr>
      <th>7</th>
      <td>87.16000</td>
      <td>mg/dL</td>
      <td>http://unitsofmeasure.org</td>
      <td>mg/dL</td>
    </tr>
    <tr>
      <th>8</th>
      <td>78.92000</td>
      <td>%</td>
      <td>http://unitsofmeasure.org</td>
      <td>%</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.27443</td>
      <td>10*3/uL</td>
      <td>http://unitsofmeasure.org</td>
      <td>10*3/uL</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhirpack.extraction.getImagingStudies">
<h2>fhirpack.extraction.getImagingStudies<a class="headerlink" href="#fhirpack.extraction.getImagingStudies" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[92]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conds</span><span class="o">=</span><span class="n">pack</span><span class="o">.</span><span class="n">getConditions</span><span class="p">(</span>
    <span class="n">searchParams</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;C61&quot;</span><span class="p">,</span>
            <span class="c1"># &quot;_content&quot;: &quot;leber&quot;</span>
    <span class="p">}</span>
    <span class="p">)</span>
<span class="n">conds</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[92]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
      <th>Condition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Condition', 'id': '1849657',...</td>
      <td>1849657</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[77]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span>\
    <span class="o">.</span><span class="n">getImagingStudies</span><span class="p">(</span><span class="n">searchParams</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;endpoint:missing&quot;</span><span class="p">:</span><span class="kc">False</span><span class="p">})</span>\
            <span class="o">.</span><span class="n">gatherSimplePaths</span><span class="p">([</span><span class="s1">&#39;series.description&#39;</span><span class="p">,</span><span class="s1">&#39;series.uid&#39;</span><span class="p">,</span><span class="s1">&#39;identifier.value&#39;</span><span class="p">])</span>

<span class="c1"># use .getDICOMInstances().sendDICOMToFiles() to download DICOM files</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[77]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>series.description</th>
      <th>series.uid</th>
      <th>identifier.value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>None</td>
      <td>[IdType-2]</td>
      <td>[Identifier-117]</td>
    </tr>
    <tr>
      <th>1</th>
      <td>None</td>
      <td>[IdType-5]</td>
      <td>[Identifier-118]</td>
    </tr>
    <tr>
      <th>2</th>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>None</td>
      <td>[1.2.276.0.7230010.3.1.3.8323329.10.1594989066...</td>
      <td>[urn:oid:1.2.826.0.1.3680043.8.498.94636677472...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Transformation">
<h2>Transformation<a class="headerlink" href="#Transformation" title="Permalink to this headline">#</a></h2>
</section>
<section id="fhirpack.transformation.base.gatherKeys">
<h2>fhirpack.transformation.base.gatherKeys<a class="headerlink" href="#fhirpack.transformation.base.gatherKeys" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[78]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">patients</span><span class="o">.</span><span class="n">gatherKeys</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[78]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[resourceType, id, meta, meta.versionId, meta.lastUpdated, meta.source, text, text.status, text.div, name, name.text, name.family, name.given, gender, birthDate]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                2
[resourceType, id, meta, meta.versionId, meta.lastUpdated, meta.source, text, text.status, text.div, identifier, identifier.system, identifier.value, identifier.use, identifier.type, identifier.type.coding, identifier.type.coding.system, identifier.type.coding.code, identifier.type.coding.display, identifier.system, identifier.value, name, name.family, name.given, telecom, telecom.system, telecom.value, telecom.use, gender, birthDate, address, address.line, address.postalCode, link, link.other, link.other.reference, link.type]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             1
[resourceType, id, meta, meta.versionId, meta.lastUpdated, meta.source, text, text.status, text.div, identifier, identifier.use, identifier.type, identifier.type.coding, identifier.type.coding.system, identifier.type.coding.code, identifier.system, identifier.value, identifier.period, identifier.period.start, identifier.assigner, identifier.assigner.display, active, name, name.use, name.family, name.given, name.use, name.given, name.use, name.family, name.given, name.period, name.period.end, telecom, telecom.use, telecom.system, telecom.value, telecom.use, telecom.rank, telecom.system, telecom.value, telecom.use, telecom.rank, telecom.system, telecom.value, telecom.use, telecom.period, telecom.period.end, gender, birthDate, _birthDate, _birthDate.extension, _birthDate.extension.url, _birthDate.extension.valueDateTime, deceasedBoolean, address, address.use, address.type, address.text, address.line, address.city, address.district, address.state, address.postalCode, address.period, address.period.start, contact, contact.relationship, contact.relationship.coding, contact.relationship.coding.system, contact.relationship.coding.code, contact.name, contact.name.family, contact.name._family, contact.name._family.extension, contact.name._family.extension.url, contact.name._family.extension.valueString, contact.name.given, contact.telecom, contact.telecom.system, contact.telecom.value, contact.address, contact.address.use, contact.address.type, contact.address.line, contact.address.city, contact.address.district, contact.address.state, contact.address.postalCode, contact.address.period, contact.address.period.start, contact.gender, contact.period, contact.period.start, managingOrganization, managingOrganization.reference]    1
Name: data, dtype: int64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[79]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;e92abcdc-a300-41e0-aa0f-378daebe25dc&#39;</span><span class="p">])</span>\
        <span class="o">.</span><span class="n">gatherKeys</span><span class="p">([</span><span class="s1">&#39;valueString&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[79]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>[resourceType, id, meta, meta.versionId, meta....</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhirpack.transformation.base.valuesForKeys">
<h2>fhirpack.transformation.base.valuesForKeys<a class="headerlink" href="#fhirpack.transformation.base.valuesForKeys" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[80]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;e92abcdc-a300-41e0-aa0f-378daebe25dc&#39;</span><span class="p">])</span>\
        <span class="o">.</span><span class="n">gatherValuesForKeys</span><span class="p">([</span><span class="s1">&#39;valueString&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[80]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>[White, Not Hispanic or Latino, Nanci249 Gleic...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhirpack.transformation.base.gatherReferences">
<h2>fhirpack.transformation.base.gatherReferences<a class="headerlink" href="#fhirpack.transformation.base.gatherReferences" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[81]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">gatherReferences</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;Patient/9ac622c4-61c8-40b4-b6d9-06cfeb3d6995&#39;</span><span class="p">]</span>
    <span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[81]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>referencer</th>
      <th>referencee</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'reference': 'Patient/9ac622c4-61c8-40b4-b6d9...</td>
      <td>[Patient/b558da74-7756-4845-87d5-d1cca8b79a62]</td>
    </tr>
    <tr>
      <th>1</th>
      <td>{'reference': 'Patient/b558da74-7756-4845-87d5...</td>
      <td>[]</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhirpack.transformation.base.gatherText">
<h2>fhirpack.transformation.base.gatherText<a class="headerlink" href="#fhirpack.transformation.base.gatherText" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[82]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;Patient/1555106&#39;</span><span class="p">],)</span>\
        <span class="o">.</span><span class="n">getObservations</span><span class="p">()[:</span><span class="mi">5</span><span class="p">]</span>\
                <span class="o">.</span><span class="n">gatherText</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[82]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>[laboratory, 102.12, Alkaline phosphatase [Enz...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>[Protein [Mass/volume] in Serum or Plasma, lab...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>[Glomerular filtration rate/1.73 sq M.predicte...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>[MCH [Entitic mass] by Automated count, labora...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>[20.88, Carbon dioxide, total [Moles/volume] i...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="fhirpack.transformation.base.gatherDates">
<h2>fhirpack.transformation.base.gatherDates<a class="headerlink" href="#fhirpack.transformation.base.gatherDates" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[83]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;Patient/1555106&#39;</span><span class="p">],)</span>\
        <span class="o">.</span><span class="n">getObservations</span><span class="p">()[:</span><span class="mi">5</span><span class="p">]</span>\
                <span class="o">.</span><span class="n">gatherValuesForKeys</span><span class="p">([</span><span class="s1">&#39;issued&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[83]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>[2020-03-18T21:53:14.197-04:00]</td>
    </tr>
    <tr>
      <th>1</th>
      <td>[2020-03-19T21:53:14.197-04:00]</td>
    </tr>
    <tr>
      <th>2</th>
      <td>[2020-03-19T21:53:14.197-04:00]</td>
    </tr>
    <tr>
      <th>3</th>
      <td>[2020-03-14T21:53:14.197-04:00]</td>
    </tr>
    <tr>
      <th>4</th>
      <td>[2020-03-19T21:53:14.197-04:00]</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[94]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">getPatients</span><span class="p">([</span><span class="s1">&#39;Patient/1555106&#39;</span><span class="p">],)</span>\
        <span class="o">.</span><span class="n">getObservations</span><span class="p">()[:</span><span class="mi">5</span><span class="p">]</span>\
                <span class="o">.</span><span class="n">gatherDates</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[94]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>dates</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>[2020-03-18T21:53:14-04:00, 2020-03-18T21:53:1...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>[2020-03-19T21:53:14-04:00, 2020-03-19T21:53:1...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>[2020-03-19T21:53:14-04:00, 2020-03-19T21:53:1...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>[2020-03-14T21:53:14-04:00, 2020-03-14T21:53:1...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>[2020-03-19T21:53:14-04:00, 2020-03-19T21:53:1...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Load">
<h2>Load<a class="headerlink" href="#Load" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">validate</span><span class="p">([</span><span class="s1">&#39;Patient/1555106&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sendResourcesToFiles</span><span class="p">([</span><span class="s1">&#39;./data.ignore&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([ True])
</pre></div></div>
</div>
</section>
<section id="Utils">
<h2>Utils<a class="headerlink" href="#Utils" title="Permalink to this headline">#</a></h2>
</section>
<section id="Server-Profiling">
<h2>Server Profiling<a class="headerlink" href="#Server-Profiling" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">countServerResources</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>resourceType</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Account</td>
      <td>510</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ActivityDefinition</td>
      <td>284</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AdverseEvent</td>
      <td>116</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AllergyIntolerance</td>
      <td>9356</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Appointment</td>
      <td>29636</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>141</th>
      <td>TestReport</td>
      <td>11</td>
    </tr>
    <tr>
      <th>142</th>
      <td>TestScript</td>
      <td>33</td>
    </tr>
    <tr>
      <th>143</th>
      <td>ValueSet</td>
      <td>3126</td>
    </tr>
    <tr>
      <th>144</th>
      <td>VerificationResult</td>
      <td>9</td>
    </tr>
    <tr>
      <th>145</th>
      <td>VisionPrescription</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
<p>146 rows  2 columns</p>
</div></div>
</div>
</section>
<section id="Validation">
<h2>Validation<a class="headerlink" href="#Validation" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">validate</span><span class="p">([</span><span class="s1">&#39;Patient/1555106&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>{'resourceType': 'Patient', 'id': '1555106', '...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="FHIR-PACK-Internals">
<h2>FHIR PACK Internals<a class="headerlink" href="#FHIR-PACK-Internals" title="Permalink to this headline">#</a></h2>
<section id="FHIRPy">
<h3>FHIRPy<a class="headerlink" href="#FHIRPy" title="Permalink to this headline">#</a></h3>
</section>
</section>
<section id="URL-Parsing">
<h2>URL Parsing<a class="headerlink" href="#URL-Parsing" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fhirpy.base.utils</span> <span class="k">as</span> <span class="nn">fpu</span>
<span class="n">url</span><span class="o">=</span><span class="n">fpu</span><span class="o">.</span><span class="n">parse_pagination_url</span><span class="p">(</span><span class="s1">&#39;/app/FHIR/r4/Condition?code=C61&amp;_count=1&amp;_sort=-onset-date&amp;identifier=%7C&amp;_Pagination=eyJvZmZzZXQiOjIwfQ%3D%3D&#39;</span><span class="p">)</span>
<span class="n">url</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&#39;/app/FHIR/r4/Condition&#39;,
 {&#39;code&#39;: [&#39;C61&#39;],
  &#39;_count&#39;: [&#39;1&#39;],
  &#39;_sort&#39;: [&#39;-onset-date&#39;],
  &#39;identifier&#39;: [&#39;|&#39;],
  &#39;_Pagination&#39;: [&#39;eyJvZmZzZXQiOjIwfQ==&#39;]})
</pre></div></div>
</div>
</section>
<section id="Raw-fetch_resource()">
<h2>Raw fetch_resource()<a class="headerlink" href="#Raw-fetch_resource()" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_fetch_resource</span><span class="p">(</span>
    <span class="s2">&quot;Condition/1499041&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;resourceType&#39;: &#39;Condition&#39;,
 &#39;id&#39;: &#39;1499041&#39;,
 &#39;meta&#39;: {&#39;versionId&#39;: &#39;1&#39;,
  &#39;lastUpdated&#39;: &#39;2020-10-05T16:29:07.960+00:00&#39;,
  &#39;source&#39;: &#39;#0sjLd8ZeFHHrRHaX&#39;},
 &#39;clinicalStatus&#39;: {&#39;coding&#39;: [{&#39;system&#39;: &#39;http://terminology.hl7.org/CodeSystem/condition-clinical&#39;,
    &#39;code&#39;: &#39;active&#39;}]},
 &#39;verificationStatus&#39;: {&#39;coding&#39;: [{&#39;system&#39;: &#39;http://terminology.hl7.org/CodeSystem/condition-ver-status&#39;,
    &#39;code&#39;: &#39;confirmed&#39;}]},
 &#39;category&#39;: [{&#39;coding&#39;: [{&#39;system&#39;: &#39;http://terminology.hl7.org/CodeSystem/condition-category&#39;,
     &#39;code&#39;: &#39;encounter-diagnosis&#39;,
     &#39;display&#39;: &#39;Encounter Diagnosis&#39;}]}],
 &#39;code&#39;: {&#39;coding&#39;: [{&#39;system&#39;: &#39;http://snomed.info/sct&#39;,
    &#39;code&#39;: &#39;22298006&#39;,
    &#39;display&#39;: &#39;Myocardial Infarction&#39;}],
  &#39;text&#39;: &#39;Myocardial Infarction&#39;},
 &#39;subject&#39;: {&#39;reference&#39;: &#39;Patient/1465609&#39;},
 &#39;onsetDateTime&#39;: &#39;2020-04-01T09:52:49-04:00&#39;,
 &#39;recordedDate&#39;: &#39;2020-04-01T09:52:49-04:00&#39;,
 &#39;asserter&#39;: {&#39;reference&#39;: &#39;Practitioner/1498740&#39;}}
</pre></div></div>
</div>
</section>
<section id="Raw-client.execute()">
<h2>Raw client.execute()<a class="headerlink" href="#Raw-client.execute()" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pack</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;Condition&#39;</span><span class="p">,</span>
<span class="n">method</span><span class="o">=</span><span class="s1">&#39;get&#39;</span><span class="p">,</span>
<span class="n">params</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;code&#39;</span><span class="p">:</span><span class="s1">&#39;C61&#39;</span><span class="p">,</span>
    <span class="s1">&#39;_sort&#39;</span><span class="p">:</span><span class="s1">&#39;-onset-date&#39;</span><span class="p">,</span>
    <span class="s1">&#39;_count&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;_total&#39;</span><span class="p">:</span><span class="s1">&#39;accurate&#39;</span>
<span class="p">}</span>
<span class="p">)</span><span class="o">.</span><span class="n">total</span>

<span class="n">pack</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
    <span class="s1">&#39;DiagnosticReport/_search&#39;</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;9fa9ab4c-9e1c-46c9-9bec-ec01b3215716&quot;</span><span class="p">},</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;resourceType&#39;: &#39;Bundle&#39;,
 &#39;id&#39;: &#39;af8b2454-29bd-4fe3-b350-733131e9383a&#39;,
 &#39;meta&#39;: {&#39;lastUpdated&#39;: &#39;2022-07-13T08:04:01.285+00:00&#39;},
 &#39;type&#39;: &#39;searchset&#39;,
 &#39;link&#39;: [{&#39;relation&#39;: &#39;self&#39;,
   &#39;url&#39;: &#39;https://hapi.fhir.org/baseR4/DiagnosticReport/_search&#39;},
  {&#39;relation&#39;: &#39;next&#39;,
   &#39;url&#39;: &#39;https://hapi.fhir.org/baseR4?_getpages=af8b2454-29bd-4fe3-b350-733131e9383a&amp;_getpagesoffset=1&amp;_count=1&amp;_pretty=true&amp;_bundletype=searchset&#39;}],
 &#39;entry&#39;: [{&#39;fullUrl&#39;: &#39;https://hapi.fhir.org/baseR4/DiagnosticReport/6630582&#39;,
   &#39;resource&#39;: {&#39;resourceType&#39;: &#39;DiagnosticReport&#39;,
    &#39;id&#39;: &#39;6630582&#39;,
    &#39;meta&#39;: {&#39;versionId&#39;: &#39;1&#39;,
     &#39;lastUpdated&#39;: &#39;2022-07-05T06:03:55.922+00:00&#39;,
     &#39;source&#39;: &#39;#VSn1gQals3CWesRQ&#39;},
    &#39;text&#39;: {&#39;status&#39;: &#39;generated&#39;,
     &#39;div&#39;: &#39;&lt;div xmlns=&#34;http://www.w3.org/1999/xhtml&#34;&gt;&lt;div class=&#34;hapiHeaderText&#34;&gt; Untitled Diagnostic Report &lt;/div&gt;&lt;table class=&#34;hapiPropertyTable&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Status&lt;/td&gt;&lt;td&gt;REGISTERED&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Issued&lt;/td&gt;&lt;td&gt; 15 May 2013 18:32:52 &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Conclusion&lt;/td&gt;&lt;td&gt;Core lab&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&#39;},
    &#39;identifier&#39;: [{&#39;use&#39;: &#39;official&#39;,
      &#39;system&#39;: &#39;http://www.bmc.nl/zorgportal/identifiers/reports&#39;,
      &#39;value&#39;: &#39;dtyj&#39;}],
    &#39;basedOn&#39;: [{&#39;reference&#39;: &#39;/fhir/NutritionOrder/srth&#39;}],
    &#39;status&#39;: &#39;registered&#39;,
    &#39;category&#39;: [{&#39;coding&#39;: [{&#39;system&#39;: &#39;http://terminology.hl7.org/CodeSystem/v2-0074&#39;,
        &#39;code&#39;: &#39;&#39;}]}],
    &#39;code&#39;: {&#39;coding&#39;: [{&#39;system&#39;: &#39;http://loinc.org&#39;, &#39;code&#39;: &#39;&#39;}]},
    &#39;subject&#39;: {&#39;reference&#39;: &#39;/fhir/Patient/f001&#39;},
    &#39;issued&#39;: &#39;2013-05-15T19:32:52+01:00&#39;,
    &#39;performer&#39;: [{&#39;reference&#39;: &#39;/fhir/Organization/f001&#39;}],
    &#39;result&#39;: [{&#39;reference&#39;: &#39;/fhir/Observation/f001&#39;}],
    &#39;conclusion&#39;: &#39;Core lab&#39;},
   &#39;search&#39;: {&#39;mode&#39;: &#39;match&#39;}}]}
</pre></div></div>
</div>
</section>
<section id="Customization">
<h2>Customization<a class="headerlink" href="#Customization" title="Permalink to this headline">#</a></h2>
</section>
<section id="fhirpack.custom.extraction.base">
<h2>fhirpack.custom.extraction.base<a class="headerlink" href="#fhirpack.custom.extraction.base" title="Permalink to this headline">#</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the fhirpack.custom package is guaranteed to never be used by us</span>
<span class="c1"># use it to customize fhirpack</span>

<span class="c1"># pack.unimplementedPluginBaseExtractorMethod()</span>
<span class="c1"># pack.unimplementedPluginBaseTransformerMethod()</span>
<span class="c1"># pack.unimplementedPluginBaseLoaderMethod()</span>

<span class="c1"># pack.unimplementedPluginSampleExtractorMethod()</span>
<span class="c1"># pack.unimplementedPluginSampleTransformerMethod()</span>
<span class="c1"># pack.unimplementedPluginSampleLoaderMethod()</span>
</pre></div>
</div>
</div>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../pages/examples.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Examples</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="minimal.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Minimal Setup</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
      &copy; Copyright 2022, Jayson Salazar.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>