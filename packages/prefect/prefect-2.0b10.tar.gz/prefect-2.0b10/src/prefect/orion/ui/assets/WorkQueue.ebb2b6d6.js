import{d as g,c as n,u as f,Q as C,a as l,w as a,b as h,H as x,r as _,o as p,e,$ as W,g as k,j as m,a0 as I,a1 as S,K as U,q as A}from"./index.26198e4d.js";import{u as B}from"./useRouteParam.82034911.js";const j=g({__name:"WorkQueue",setup(N){const y=h(),i=B("id"),w=n(()=>`prefect agent start ${i.value}`),c={interval:3e5},d=f(C.getWorkQueue,[i.value],c),o=n(()=>d.response),Q=n(()=>{var s,t,u;return(u=(t=(s=o==null?void 0:o.value)==null?void 0:s.filter)==null?void 0:t.deploymentIds)!=null?u:[]}),b=n(()=>({deployments:{id:{any_:Q.value}}})),r=f(x.getDeployments,[b],c),q=n(()=>{var s;return(s=r.response)!=null?s:[]}),D=()=>{y.push(A.workQueues())};return(s,t)=>{const u=_("p-tabs"),v=_("p-layout-default");return p(),l(v,{class:"queue"},{header:a(()=>[e(o)?(p(),l(e(W),{key:0,queue:e(o),onUpdate:e(d).refresh,onDelete:D},null,8,["queue","onUpdate"])):k("",!0)]),default:a(()=>[m(e(I),{command:e(w),title:"Work queue is ready to go!",subtitle:"Work queues define the work to be done and agents poll a specific work queue for new work."},null,8,["command"]),m(u,{tabs:["Details","Deployments"]},{details:a(()=>[e(o)?(p(),l(e(S),{key:0,"work-queue":e(o)},null,8,["work-queue"])):k("",!0)]),deployments:a(()=>[m(e(U),{deployments:e(q),onUpdate:t[0]||(t[0]=$=>e(r).refresh()),onDelete:t[1]||(t[1]=$=>e(r).refresh())},null,8,["deployments"])]),_:1})]),_:1})}}});export{j as default};
