import{d as g,c as u,u as d,Q as C,a,w as n,b as h,H as W,r as f,o as l,e,$ as x,g as k,j as p,a0 as I,a1 as S,K as U,q as A}from"./index.476a1f60.js";import{u as B}from"./useRouteParam.186c2d39.js";const j=g({__name:"WorkQueue",setup(N){const _=h(),m=B("id"),y=u(()=>`prefect agent start ${m.value}`),i={interval:3e5},c=d(C.getWorkQueue,[m.value],i),s=u(()=>c.response),w=u(()=>{var t,o;return(o=(t=s.value)==null?void 0:t.filter.deploymentIds)!=null?o:[]}),Q=u(()=>({deployments:{id:{any_:w.value}}})),r=d(W.getDeployments,[Q],i),b=u(()=>{var t;return(t=r.response)!=null?t:[]}),q=()=>{_.push(A.workQueues())};return(t,o)=>{const D=f("p-tabs"),v=f("p-layout-default");return l(),a(v,{class:"queue"},{header:n(()=>[e(s)?(l(),a(e(x),{key:0,queue:e(s),onUpdate:e(c).refresh,onDelete:q},null,8,["queue","onUpdate"])):k("",!0)]),default:n(()=>[p(e(I),{command:e(y),title:"Work queue is ready to go!",subtitle:"Work queues define the work to be done and agents poll a specific work queue for new work."},null,8,["command"]),p(D,{tabs:["Details","Deployments"]},{details:n(()=>[e(s)?(l(),a(e(S),{key:0,"work-queue":e(s)},null,8,["work-queue"])):k("",!0)]),deployments:n(()=>[p(e(U),{deployments:e(b),onUpdate:o[0]||(o[0]=$=>e(r).refresh()),onDelete:o[1]||(o[1]=$=>e(r).refresh())},null,8,["deployments"])]),_:1})]),_:1})}}});export{j as default};
