---

title: DIP


keywords: fastai
sidebar: home_sidebar

summary: "Load the prototype version of AMASS."
description: "Load the prototype version of AMASS."
nb_path: "06_dip.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 06_dip.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">import</span> <span class="nn">llamass.core</span>
<span class="kn">import</span> <span class="nn">llamass.transforms</span>
<span class="kn">from</span> <span class="nn">einops</span> <span class="kn">import</span> <span class="n">repeat</span><span class="p">,</span> <span class="n">rearrange</span>
<span class="kn">from</span> <span class="nn">scipy.spatial.transform</span> <span class="kn">import</span> <span class="n">Rotation</span> <span class="k">as</span> <span class="n">R</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A prototypical version of AMASS can be found in the downloads of <a href="https://dip.is.tuebingen.mpg.de/">the DIP project</a>. This is used in some papers so being able to train on it is useful.</p>
<p>Sidenote: The official documentation for the DIPS dataset says the angles stored in <code>data["poses"]</code> in it's archives are stored as axis-angle vectors, but when I looked at the code to open this dataset in the SPL repository <a href="https://github.com/eth-ait/spl/blob/master/preprocessing/preprocess_dip.py#L183-L192">here</a> I was surprised to see they converted it from a rotation matrix to other formalisms. So, I opened it up myself and tested if the data stored was a rotation matrix or not and it was! However, that was even more confusing because there were only 15 joint angles and I knew that SMPL is 24 joint angles but it turns out they didn't include all of them, which you can see if you look at the list of <a href="/llamass/transforms.html#SMPL_MAJOR_JOINTS"><code>SMPL_MAJOR_JOINTS</code></a> in the <a href="https://github.com/eth-ait/spl/blob/master/visualization/fk.py#L31">SPL forward kinematics model</a>.</p>
<p>To do:</p>
<ul>
<li><del>Visualize an example after applying the SMPL forward kinematics module to verify it's loaded correctly</del></li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dips_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/nobackup/gngdb/Synthetic_60FPS/&quot;</span><span class="p">)</span>

<span class="c1"># open a random pickle file in the DIPS dataset</span>
<span class="n">example_file</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">for</span> <span class="n">dirpath</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">filenames</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dips_path</span><span class="p">):</span>
    <span class="n">dirpath</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">dirpath</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">filename</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span> <span class="ow">and</span> <span class="n">filename</span><span class="o">.</span><span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;.pkl&quot;</span><span class="p">:</span>
            <span class="n">example_file</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">/</span> <span class="n">filename</span>
    <span class="k">if</span> <span class="n">example_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">break</span>

<span class="k">def</span> <span class="nf">pkl_load</span><span class="p">(</span><span class="n">pkl_file</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pkl_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pkl_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">u</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">_Unpickler</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="n">u</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="s2">&quot;latin1&quot;</span>
            <span class="k">return</span> <span class="n">u</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>

<span class="n">cdata</span> <span class="o">=</span> <span class="n">pkl_load</span><span class="p">(</span><span class="n">example_file</span><span class="p">)</span>

<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cdata</span><span class="p">[</span><span class="s1">&#39;poses&#39;</span><span class="p">])</span>
<span class="n">d</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cdata</span><span class="p">[</span><span class="s1">&#39;poses&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Contains </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2"> in a </span><span class="si">{</span><span class="n">d</span><span class="si">}</span><span class="s2"> dim vector containing </span><span class="si">{</span><span class="n">d</span><span class="o">//</span><span class="mi">9</span><span class="si">}</span><span class="s2"> joint angles&quot;</span><span class="p">)</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cdata</span><span class="p">[</span><span class="s1">&#39;poses&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">T</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Example rotation matrix equals identity when multiplied by it&#39;s transpose&quot;</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Contains 975 in a 135 dim vector containing 15 joint angles
Example rotation matrix equals identity when multiplied by it&#39;s transpose
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[1.00000000e+00, 3.27052040e-17, 4.41648625e-17],
       [3.27052040e-17, 1.00000000e+00, 1.40562284e-17],
       [4.41648625e-17, 1.40562284e-17, 1.00000000e+00]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Sparse-to-Full">Sparse to Full<a class="anchor-link" href="#Sparse-to-Full"> </a></h2><blockquote><p>The data is provided with only 15 major joints, the remaining joints must be padded.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Reference implementation from <a href="https://github.com/eth-ait/spl/blob/master/common/conversions.py#L211">SPL</a>:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">SPL: training and evaluation of neural networks with a structured prediction layer.</span>
<span class="sd">Copyright (C) 2019 ETH Zurich, Emre Aksan, Manuel Kaufmann</span>
<span class="sd">This program is free software: you can redistribute it and/or modify</span>
<span class="sd">it under the terms of the GNU General Public License as published by</span>
<span class="sd">the Free Software Foundation, either version 3 of the License, or</span>
<span class="sd">(at your option) any later version.</span>
<span class="sd">This program is distributed in the hope that it will be useful,</span>
<span class="sd">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="sd">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="sd">GNU General Public License for more details.</span>
<span class="sd">You should have received a copy of the GNU General Public License</span>
<span class="sd">along with this program.  If not, see &lt;https://www.gnu.org/licenses/&gt;.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="k">def</span> <span class="nf">_sparse_to_full</span><span class="p">(</span><span class="n">joint_angles_sparse</span><span class="p">,</span> <span class="n">sparse_joints_idxs</span><span class="p">,</span> <span class="n">tot_nr_joints</span><span class="p">,</span> <span class="n">rep</span><span class="o">=</span><span class="s2">&quot;rotmat&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pad the given sparse joint angles with identity elements to retrieve a full skeleton with `tot_nr_joints`</span>
<span class="sd">    many joints.</span>
<span class="sd">    Args:</span>
<span class="sd">        joint_angles_sparse: An np array of shape (N, len(sparse_joints_idxs) * dof)</span>
<span class="sd">          or (N, len(sparse_joints_idxs), dof)</span>
<span class="sd">        sparse_joints_idxs: A list of joint indices pointing into the full skeleton given by range(0, tot_nr_joints)</span>
<span class="sd">        tot_nr_jonts: Total number of joints in the full skeleton.</span>
<span class="sd">        rep: Which representation is used, rotmat or quat</span>
<span class="sd">    Returns:</span>
<span class="sd">        The padded joint angles as an array of shape (N, tot_nr_joints*dof)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">joint_idxs</span> <span class="o">=</span> <span class="n">sparse_joints_idxs</span>
    <span class="k">assert</span> <span class="n">rep</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;rotmat&quot;</span><span class="p">,</span> <span class="s2">&quot;quat&quot;</span><span class="p">,</span> <span class="s2">&quot;aa&quot;</span><span class="p">]</span>
    <span class="n">dof</span> <span class="o">=</span> <span class="mi">9</span> <span class="k">if</span> <span class="n">rep</span> <span class="o">==</span> <span class="s2">&quot;rotmat&quot;</span> <span class="k">else</span> <span class="mi">4</span> <span class="k">if</span> <span class="n">rep</span> <span class="o">==</span> <span class="s2">&quot;quat&quot;</span> <span class="k">else</span> <span class="mi">3</span>
    <span class="n">n_sparse_joints</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sparse_joints_idxs</span><span class="p">)</span>
    <span class="n">angles_sparse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">joint_angles_sparse</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_sparse_joints</span><span class="p">,</span> <span class="n">dof</span><span class="p">])</span>

    <span class="c1"># fill in the missing indices with the identity element</span>
    <span class="n">smpl_full</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="n">angles_sparse</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tot_nr_joints</span><span class="p">,</span> <span class="n">dof</span><span class="p">])</span>  <span class="c1"># (N, tot_nr_joints, dof)</span>
    <span class="k">if</span> <span class="n">rep</span> <span class="o">==</span> <span class="s2">&quot;quat&quot;</span><span class="p">:</span>
        <span class="n">smpl_full</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="k">elif</span> <span class="n">rep</span> <span class="o">==</span> <span class="s2">&quot;rotmat&quot;</span><span class="p">:</span>
        <span class="n">smpl_full</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="n">smpl_full</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="n">smpl_full</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">pass</span>  <span class="c1"># nothing to do for angle-axis</span>

    <span class="n">smpl_full</span><span class="p">[:,</span> <span class="n">joint_idxs</span><span class="p">]</span> <span class="o">=</span> <span class="n">angles_sparse</span>
    <span class="n">smpl_full</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">smpl_full</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">tot_nr_joints</span> <span class="o">*</span> <span class="n">dof</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">smpl_full</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Converting this to PyTorch:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sparse_to_full" class="doc_header"><code>sparse_to_full</code><a href="https://github.com/gngdb/llamass/tree/master/llamass/dips.py#L17" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sparse_to_full</code>(<strong><code>joint_angles_sparse</code></strong>, <strong><code>sparse_joints_idxs</code></strong>, <strong><code>tot_nr_joints</code></strong>, <strong><code>rep</code></strong>=<em><code>'rotmat'</code></em>)</p>
</blockquote>
<p>Pad the given sparse joint angles with identity elements to retrieve a full skeleton with <code>tot_nr_joints</code>
many joints.
Args:
    joint_angles_sparse: Tensor of shape (N, len(sparse_joints_idxs) <em> dof)
      or (N, len(sparse_joints_idxs), dof)
    sparse_joints_idxs: A list of joint indices pointing into the full skeleton given by range(0, tot_nr_joints)
    tot_nr_jonts: Total number of joints in the full skeleton.
    rep: Which representation is used, rotmat or quat
Returns:
    The padded joint angles as an array of shape (N, tot_nr_joints</em>dof)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">sparse_to_full</span><span class="p">(</span><span class="n">joint_angles_sparse</span><span class="p">,</span> <span class="n">sparse_joints_idxs</span><span class="p">,</span> <span class="n">tot_nr_joints</span><span class="p">,</span> <span class="n">rep</span><span class="o">=</span><span class="s2">&quot;rotmat&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pad the given sparse joint angles with identity elements to retrieve a full skeleton with `tot_nr_joints`</span>
<span class="sd">    many joints.</span>
<span class="sd">    Args:</span>
<span class="sd">        joint_angles_sparse: Tensor of shape (N, len(sparse_joints_idxs) * dof)</span>
<span class="sd">          or (N, len(sparse_joints_idxs), dof)</span>
<span class="sd">        sparse_joints_idxs: A list of joint indices pointing into the full skeleton given by range(0, tot_nr_joints)</span>
<span class="sd">        tot_nr_jonts: Total number of joints in the full skeleton.</span>
<span class="sd">        rep: Which representation is used, rotmat or quat</span>
<span class="sd">    Returns:</span>
<span class="sd">        The padded joint angles as an array of shape (N, tot_nr_joints*dof)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">device</span> <span class="o">=</span> <span class="n">joint_angles_sparse</span><span class="o">.</span><span class="n">device</span>
    <span class="n">joint_idxs</span> <span class="o">=</span> <span class="n">sparse_joints_idxs</span>
    <span class="n">joint_idx_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="n">j</span><span class="p">:</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">joint_idxs</span><span class="p">)}</span>
    <span class="k">assert</span> <span class="n">rep</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;rotmat&quot;</span><span class="p">,</span> <span class="s2">&quot;quat&quot;</span><span class="p">,</span> <span class="s2">&quot;aa&quot;</span><span class="p">]</span>
    <span class="n">dof</span> <span class="o">=</span> <span class="mi">9</span> <span class="k">if</span> <span class="n">rep</span> <span class="o">==</span> <span class="s2">&quot;rotmat&quot;</span> <span class="k">else</span> <span class="mi">4</span> <span class="k">if</span> <span class="n">rep</span> <span class="o">==</span> <span class="s2">&quot;quat&quot;</span> <span class="k">else</span> <span class="mi">3</span>
    <span class="n">n_sparse_joints</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sparse_joints_idxs</span><span class="p">)</span>
    <span class="n">angles_sparse</span> <span class="o">=</span> <span class="n">joint_angles_sparse</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_sparse_joints</span><span class="p">,</span> <span class="n">dof</span><span class="p">)</span>

    
    
    <span class="c1"># fill in the missing indices with the identity element</span>
    <span class="n">N</span> <span class="o">=</span> <span class="n">angles_sparse</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="c1">#smpl_full = torch.zeros((N, tot_nr_joints, dof)).to(device)</span>
    <span class="k">if</span> <span class="n">rep</span> <span class="o">==</span> <span class="s2">&quot;quat&quot;</span><span class="p">:</span>
        <span class="n">smpl_full</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">])</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
        <span class="c1">#smpl_full[..., 0] = 1.0</span>
    <span class="k">elif</span> <span class="n">rep</span> <span class="o">==</span> <span class="s2">&quot;rotmat&quot;</span><span class="p">:</span>
        <span class="n">smpl_full</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
        <span class="c1">#smpl_full[..., 0] = 1.0</span>
        <span class="c1">#smpl_full[..., 4] = 1.0</span>
        <span class="c1">#smpl_full[..., 8] = 1.0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">smpl_full</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
    
    <span class="c1"># repeat these tensors along the N axis</span>
    <span class="n">smpl_full</span> <span class="o">=</span> <span class="n">repeat</span><span class="p">(</span><span class="n">smpl_full</span><span class="p">,</span> <span class="s1">&#39;d -&gt; N () d&#39;</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
    
    <span class="c1"># make a list of tensors for each joint</span>
    <span class="n">joint_tensors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">tot_nr_joints</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">joint_idxs</span><span class="p">:</span>
            <span class="n">k</span> <span class="o">=</span> <span class="n">joint_idx_mapping</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">joint_tensors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">angles_sparse</span><span class="p">[:,</span> <span class="p">[</span><span class="n">k</span><span class="p">]])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">joint_tensors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">smpl_full</span><span class="p">)</span>

    <span class="n">smpl_full</span> <span class="o">=</span>  <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="n">joint_tensors</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">smpl_full</span> <span class="o">=</span> <span class="n">smpl_full</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">tot_nr_joints</span><span class="o">*</span><span class="n">dof</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">smpl_full</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fk</span> <span class="o">=</span> <span class="n">llamass</span><span class="o">.</span><span class="n">transforms</span><span class="o">.</span><span class="n">SMPL_ForwardKinematics</span><span class="p">()</span>
<span class="n">sparse</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cdata</span><span class="p">[</span><span class="s1">&#39;poses&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">_full</span> <span class="o">=</span> <span class="n">_sparse_to_full</span><span class="p">(</span><span class="n">sparse</span><span class="o">.</span><span class="n">numpy</span><span class="p">(),</span> <span class="n">fk</span><span class="o">.</span><span class="n">major_joints</span><span class="p">,</span> <span class="n">fk</span><span class="o">.</span><span class="n">n_joints</span><span class="p">,</span> <span class="n">rep</span><span class="o">=</span><span class="s2">&quot;rotmat&quot;</span><span class="p">)</span>
<span class="n">full</span> <span class="o">=</span> <span class="n">sparse_to_full</span><span class="p">(</span><span class="n">sparse</span><span class="p">,</span> <span class="n">fk</span><span class="o">.</span><span class="n">major_joints</span><span class="p">,</span> <span class="n">fk</span><span class="o">.</span><span class="n">n_joints</span><span class="p">,</span> <span class="n">rep</span><span class="o">=</span><span class="s2">&quot;rotmat&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">_full</span><span class="p">,</span> <span class="n">full</span><span class="o">.</span><span class="n">numpy</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">positions</span> <span class="o">=</span> <span class="n">fk</span><span class="o">.</span><span class="n">from_rotmat</span><span class="p">(</span><span class="n">full</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">plot_pose</span><span class="p">(</span><span class="n">positions</span><span class="p">,</span> <span class="n">skeleton</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">save_to</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">parents</span><span class="p">:</span>
        <span class="n">skeleton</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">parents</span><span class="p">)][</span><span class="mi">1</span><span class="p">:]</span>
    <span class="k">assert</span> <span class="n">skeleton</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">d</span><span class="p">,</span> <span class="n">ax</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">axes</span><span class="p">):</span>
        <span class="n">dims_to_plot</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">d</span><span class="p">]</span>
        <span class="n">joints</span> <span class="o">=</span> <span class="n">positions</span>
        <span class="n">j</span> <span class="o">=</span> <span class="n">joints</span><span class="p">[:,</span> <span class="n">dims_to_plot</span><span class="p">]</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="o">*</span><span class="n">j</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">bone</span> <span class="ow">in</span> <span class="n">skeleton</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">bone</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">positions</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>
                <span class="n">a</span> <span class="o">=</span> <span class="n">j</span><span class="p">[</span><span class="n">bone</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
                <span class="n">b</span> <span class="o">=</span> <span class="n">j</span><span class="p">[</span><span class="n">bone</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
                <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_ticklabels</span><span class="p">([])</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticklabels</span><span class="p">([])</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">,</span> <span class="n">adjustable</span><span class="o">=</span><span class="s1">&#39;box&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">save_to</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">save_to</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_pose</span><span class="p">(</span><span class="n">positions</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">parents</span><span class="o">=</span><span class="n">fk</span><span class="o">.</span><span class="n">parents</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Creating new Forward Kinematics model that incorporates this:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="SMPL_ForwardKinematics_Sparse" class="doc_header"><code>class</code> <code>SMPL_ForwardKinematics_Sparse</code><a href="https://github.com/gngdb/llamass/tree/master/llamass/dips.py#L71" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>SMPL_ForwardKinematics_Sparse</code>() :: <a href="/llamass/transforms.html#SMPL_ForwardKinematics"><code>SMPL_ForwardKinematics</code></a></p>
</blockquote>
<p>Forward Kinematics for the skeleton defined by SMPL.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">SMPL_ForwardKinematics_Sparse</span><span class="p">(</span><span class="n">llamass</span><span class="o">.</span><span class="n">transforms</span><span class="o">.</span><span class="n">SMPL_ForwardKinematics</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">from_rotmat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">joint_angles</span><span class="p">):</span>
        <span class="n">mj</span><span class="p">,</span> <span class="n">nj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">major_joints</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_joints</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">from_rotmat</span><span class="p">(</span><span class="n">sparse_to_full</span><span class="p">(</span><span class="n">joint_angles</span><span class="p">,</span> <span class="n">mj</span><span class="p">,</span> <span class="n">nj</span><span class="p">,</span> <span class="n">rep</span><span class="o">=</span><span class="s2">&quot;rotmat&quot;</span><span class="p">))</span>
        
    <span class="k">def</span> <span class="nf">from_aa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">joint_angles</span><span class="p">):</span>
        <span class="n">mj</span><span class="p">,</span> <span class="n">nj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">major_joints</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_joints</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">from_aa</span><span class="p">(</span><span class="n">sparse_to_full</span><span class="p">(</span><span class="n">joint_angles</span><span class="p">,</span> <span class="n">mj</span><span class="p">,</span> <span class="n">nj</span><span class="p">,</span> <span class="n">rep</span><span class="o">=</span><span class="s2">&quot;aa&quot;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fk</span> <span class="o">=</span> <span class="n">SMPL_ForwardKinematics_Sparse</span><span class="p">()</span>
<span class="n">plot_pose</span><span class="p">(</span><span class="n">fk</span><span class="o">.</span><span class="n">from_rotmat</span><span class="p">(</span><span class="n">sparse</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">parents</span><span class="o">=</span><span class="n">fk</span><span class="o">.</span><span class="n">parents</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Converting-to-npz">Converting to npz<a class="anchor-link" href="#Converting-to-npz"> </a></h1><blockquote><p>AMASS proper is stored as npz files, after converting this dataset to that representation, it will take up less space and be easy to load with the AMASS Dataset class.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I've downloaded the txt files containing the lists of files to go into each of training, test and validation splits from <a href="https://github.com/eth-ait/spl/tree/master/preprocessing">here</a>.</p>
<p>To do:</p>
<ul>
<li>Console utility to process the data into npz files like the AMASS dataset<ul>
<li><del>Get list of all the files</del></li>
<li>Split the list of files according to the <code>train.txt</code>...</li>
<li>Process each archive in parallel with joblib, saving to new location</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%capture</span>
<span class="o">%%</span><span class="n">bash</span>
<span class="n">wget</span> <span class="o">-</span><span class="n">O</span> <span class="n">training_fnames</span><span class="o">.</span><span class="n">txt</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">raw</span><span class="o">.</span><span class="n">githubusercontent</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">eth</span><span class="o">-</span><span class="n">ait</span><span class="o">/</span><span class="n">spl</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">preprocessing</span><span class="o">/</span><span class="n">training_fnames</span><span class="o">.</span><span class="n">txt</span>
<span class="n">wget</span> <span class="o">-</span><span class="n">O</span> <span class="n">test_fnames</span><span class="o">.</span><span class="n">txt</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">raw</span><span class="o">.</span><span class="n">githubusercontent</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">eth</span><span class="o">-</span><span class="n">ait</span><span class="o">/</span><span class="n">spl</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">preprocessing</span><span class="o">/</span><span class="n">test_fnames</span><span class="o">.</span><span class="n">txt</span>
<span class="n">wget</span> <span class="o">-</span><span class="n">O</span> <span class="n">validation_fnames</span><span class="o">.</span><span class="n">txt</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">raw</span><span class="o">.</span><span class="n">githubusercontent</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">eth</span><span class="o">-</span><span class="n">ait</span><span class="o">/</span><span class="n">spl</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">preprocessing</span><span class="o">/</span><span class="n">validation_fnames</span><span class="o">.</span><span class="n">txt</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="iter_pkl_in" class="doc_header"><code>iter_pkl_in</code><a href="https://github.com/gngdb/llamass/tree/master/llamass/dips.py#L81" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>iter_pkl_in</code>(<strong><code>dip_dir</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">iter_pkl_in</span><span class="p">(</span><span class="n">dip_dir</span><span class="p">):</span>
    <span class="c1"># open a random pickle file in the DIPS dataset</span>
    <span class="n">example_file</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">dirpath</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">filenames</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dips_path</span><span class="p">):</span>
        <span class="n">dirpath</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">dirpath</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">filename</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span> <span class="ow">and</span> <span class="n">filename</span><span class="o">.</span><span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;.pkl&quot;</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">dirpath</span><span class="o">/</span><span class="n">filename</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">pkl_path</span> <span class="ow">in</span> <span class="n">iter_pkl_in</span><span class="p">(</span><span class="n">dips_path</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pkl_path</span><span class="p">)</span>
    <span class="k">break</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>/nobackup/gngdb/Synthetic_60FPS/AMASS_ACCAD/Female1General_c3dA10_SB__SB2__SB_lie_SB_to_SB_crouch_dynamics.pkl
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">load_txt</span><span class="p">(</span><span class="n">fpath</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">Path</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()]</span>
<span class="n">split_paths</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">split_paths</span><span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">load_txt</span><span class="p">(</span><span class="s2">&quot;training_fnames.txt&quot;</span><span class="p">)</span>
<span class="n">split_paths</span><span class="p">[</span><span class="s2">&quot;validation&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">load_txt</span><span class="p">(</span><span class="s2">&quot;validation_fnames.txt&quot;</span><span class="p">)</span>
<span class="n">split_paths</span><span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">load_txt</span><span class="p">(</span><span class="s2">&quot;test_fnames.txt&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pkey</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">split_fnames</span> <span class="o">=</span> <span class="p">{</span><span class="n">pkey</span><span class="p">(</span><span class="n">p</span><span class="p">):</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">split_paths</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">v</span><span class="p">}</span>
<span class="n">separated_paths</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:[]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">split_paths</span><span class="p">}</span>
<span class="n">allocated</span><span class="p">,</span> <span class="n">unallocated</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">pkl_path</span> <span class="ow">in</span> <span class="n">iter_pkl_in</span><span class="p">(</span><span class="n">dips_path</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">split</span> <span class="o">=</span> <span class="n">split_fnames</span><span class="p">[</span><span class="n">pkey</span><span class="p">(</span><span class="n">pkl_path</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="n">pkey</span><span class="p">(</span><span class="n">pkl_path</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allocated</span>
        <span class="n">allocated</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pkey</span><span class="p">(</span><span class="n">pkl_path</span><span class="p">))</span>
        <span class="n">separated_paths</span><span class="p">[</span><span class="n">split</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pkl_path</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">unallocated</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pkl_path</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">p</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">separated_paths</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">v</span><span class="p">))</span>
<span class="n">prescribed</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">split_fnames</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">n</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">prescribed</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tqdm.auto</span> <span class="kn">import</span> <span class="n">tqdm</span>
<span class="k">def</span> <span class="nf">process_to_npz</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">prescribed</span><span class="p">))</span> <span class="k">as</span> <span class="n">pbar</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">split</span><span class="p">,</span> <span class="n">pkl_paths</span> <span class="ow">in</span> <span class="n">separated_paths</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">pkl_path</span> <span class="ow">in</span> <span class="n">pkl_paths</span><span class="p">:</span>
                <span class="n">dip_path</span> <span class="o">=</span> <span class="n">pkl_path</span><span class="o">.</span><span class="n">parents</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">dest_dir</span> <span class="o">=</span>  <span class="n">dip_path</span> <span class="o">/</span> <span class="n">split</span> <span class="o">/</span> <span class="n">pkl_path</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">dest_path</span> <span class="o">=</span> <span class="n">dest_dir</span> <span class="o">/</span> <span class="p">(</span><span class="n">pkl_path</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.npz&quot;</span><span class="p">)</span>
                <span class="n">dest_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pkl_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">cdata</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin1&#39;</span><span class="p">)</span>
                <span class="n">np</span><span class="o">.</span><span class="n">savez</span><span class="p">(</span><span class="n">dest_path</span><span class="p">,</span> <span class="n">poses</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cdata</span><span class="p">[</span><span class="s2">&quot;poses&quot;</span><span class="p">]))</span>
                <span class="n">pbar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># process_to_npz()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Trying to open this new processed dataset using the AMASS Dataset class:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dip_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/nobackup/gngdb/dips/train/&quot;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">llamass</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">AMASS</span><span class="p">(</span>
    <span class="n">dip_path</span><span class="p">,</span>
    <span class="n">clip_length</span><span class="o">=</span><span class="mi">144</span><span class="p">,</span>
    <span class="n">overlapping</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">transform</span><span class="o">=</span><span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">,</span>
    <span class="n">data_keys</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;poses&quot;</span><span class="p">,),</span>
    <span class="n">strict</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">example</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">example</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
    <span class="k">break</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;poses&#39;: tensor([[ 0.9903, -0.1298,  0.0501,  ..., -0.8230, -0.5596,  0.0976],
        [ 0.9904, -0.1307,  0.0457,  ..., -0.8153, -0.5775,  0.0428],
        [ 0.9904, -0.1320,  0.0400,  ..., -0.8051, -0.5930, -0.0100],
        ...,
        [ 0.9402, -0.2332,  0.2483,  ..., -0.7959, -0.5205, -0.3091],
        [ 0.9378, -0.2353,  0.2554,  ..., -0.7994, -0.5183, -0.3038],
        [ 0.9377, -0.2353,  0.2557,  ..., -0.7965, -0.5208, -0.3071]])}
poses torch.Size([144, 135])
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Is it possible to load all of DIP into memory?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">build_tensor_dataset</span><span class="p">():</span>
    <span class="n">dips_examples</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">example</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">dataset</span><span class="p">):</span>
        <span class="n">dips_examples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">example</span><span class="p">)</span>
    <span class="n">dip</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;poses&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">dips_examples</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dip</span><span class="o">.</span><span class="n">size</span><span class="p">(),</span> <span class="sa">f</span><span class="s2">&quot; number of poses=</span><span class="si">{</span><span class="n">dip</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="n">dip</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">dip</span><span class="p">,</span> <span class="n">dip_path</span><span class="o">/</span><span class="s2">&quot;tensor_dataset.pt&quot;</span><span class="p">)</span>
<span class="c1"># build_tensor_dataset()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>du -hs /nobackup/gngdb/dips/train/tensor_dataset.pt
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>3.0G	/nobackup/gngdb/dips/train/tensor_dataset.pt
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Adding-Additional-Training-Data">Adding Additional Training Data<a class="anchor-link" href="#Adding-Additional-Training-Data"> </a></h1><blockquote><p>AMASS contains extra data, can this be added to assist during training?</p>
</blockquote>

</div>
</div>
</div>
</div>
 

