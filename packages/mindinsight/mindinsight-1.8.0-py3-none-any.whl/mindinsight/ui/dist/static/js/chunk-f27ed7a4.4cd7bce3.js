(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f27ed7a4"],{"0635":function(t,e,i){"use strict";i("af71")},"06c5":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("fb6a"),i("d3b7"),i("b0c0"),i("a630"),i("3ca3"),i("ac1f"),i("00b4");var a=i("6b75");function n(t,e){if(t){if("string"===typeof t)return Object(a["a"])(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(a["a"])(t,e):void 0}}},1148:function(t,e,i){"use strict";var a=i("a691"),n=i("1d80");t.exports="".repeat||function(t){var e=String(n(this)),i="",l=a(t);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(e+=e))1&l&&(i+=e);return i}},"2f72":function(t,e,i){"use strict";i("8029")},3835:function(t,e,i){"use strict";function a(t){if(Array.isArray(t))return t}i.d(e,"a",(function(){return r}));i("e01a"),i("d3b7"),i("d28b"),i("e260"),i("3ca3"),i("ddb0");function n(t,e){var i=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,n,l=[],o=!0,r=!1;try{for(i=i.call(t);!(o=(a=i.next()).done);o=!0)if(l.push(a.value),e&&l.length===e)break}catch(s){r=!0,n=s}finally{try{o||null==i["return"]||i["return"]()}finally{if(r)throw n}}return l}}var l=i("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){return a(t)||n(t,e)||Object(l["a"])(t,e)||o()}},"408a":function(t,e,i){var a=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},"4de4":function(t,e,i){"use strict";var a=i("23e7"),n=i("b727").filter,l=i("1dde"),o=i("ae40"),r=l("filter"),s=o("filter");a({target:"Array",proto:!0,forced:!r||!s},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,i){"use strict";var a=i("0366"),n=i("7b0b"),l=i("9bdd"),o=i("e95a"),r=i("50c4"),s=i("8418"),c=i("35a1");t.exports=function(t){var e,i,p,u,f,b,h=n(t),d="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,v=void 0!==m,k=c(h),C=0;if(v&&(m=a(m,g>2?arguments[2]:void 0,2)),void 0==k||d==Array&&o(k))for(e=r(h.length),i=new d(e);e>C;C++)b=v?m(h[C],C):h[C],s(i,C,b);else for(u=k.call(h),f=u.next,i=new d;!(p=f.call(u)).done;C++)b=v?l(u,m,[p.value,C],!0):p.value,s(i,C,b);return i.length=C,i}},"5e89":function(t,e,i){var a=i("861d"),n=Math.floor;t.exports=function(t){return!a(t)&&isFinite(t)&&n(t)===t}},"60da":function(t,e,i){"use strict";var a=i("83ab"),n=i("d039"),l=i("df75"),o=i("7418"),r=i("d1e7"),s=i("7b0b"),c=i("44ad"),p=Object.assign,u=Object.defineProperty;t.exports=!p||n((function(){if(a&&1!==p({b:1},p(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!=p({},t)[i]||l(p({},e)).join("")!=n}))?function(t,e){var i=s(t),n=arguments.length,p=1,u=o.f,f=r.f;while(n>p){var b,h=c(arguments[p++]),d=u?l(h).concat(u(h)):l(h),g=d.length,m=0;while(g>m)b=d[m++],a&&!f.call(h,b)||(i[b]=h[b])}return i}:p},"6b75":function(t,e,i){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}i.d(e,"a",(function(){return a}))},"7f76":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cl-comm"},[i("div",{staticClass:"profiling-content-title"},[t._v(" "+t._s(t.$t("profilingCluster.clusterCommView"))+" "),i("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[i("div",{staticClass:"comm-tooltip-container",attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"comm-tooltip-cell"},[i("span",[t._v(t._s(t.$t("profilingCluster.commCost")+t.$t("symbols.colon")))]),i("br"),i("span",[t._v(t._s(t.$t("profilingCluster.commCostExplanation")))])]),i("div",{staticClass:"comm-tooltip-cell"},[i("span",[t._v(t._s(t.$t("profilingCluster.waitCost")+t.$t("symbols.colon")))]),i("br"),i("span",[t._v(t._s(t.$t("profilingCluster.waitCostExplanation")))])]),i("div",{staticClass:"comm-tooltip-cell"},[i("span",[t._v(t._s(t.$t("profilingCluster.linkInfo")+t.$t("symbols.colon")))]),i("br"),i("span",[t._v(t._s(t.$t("profilingCluster.linkInfoExplanation")))])]),i("div",{staticClass:"comm-tooltip-cell"},[i("span",[t._v(t._s(t.$t("profilingCluster.linkType")+t.$t("symbols.colon")))]),i("br"),i("span",[t._v(t._s(t.$t("profilingCluster.linkTypeExplanation")))])])]),i("i",{staticClass:"el-icon-info comm-tip"})])],1),i("el-tabs",{on:{"tab-click":t.handleTabClick},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("el-tab-pane",{attrs:{label:t.$t("profilingCluster.commPerformance"),name:t.tabNames[0]}}),i("el-tab-pane",{attrs:{label:t.$t("profilingCluster.linkInfo"),name:t.tabNames[1]}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.pageState===t.normalState&&t.tab===t.tabNames[0],expression:"pageState === normalState && tab === tabNames[0]"}],staticClass:"comm-content default-tab"},[i("div",{staticClass:"content-filter"},[i("label",[t._v(t._s(t.stepTip))]),i("el-input",{staticClass:"step-input",attrs:{clearable:""},on:{clear:t.stepFilter},model:{value:t.step.value,callback:function(e){t.$set(t.step,"value",e)},expression:"step.value"}}),i("el-button",{on:{click:t.stepFilter}},[t._v(t._s(t.$t("public.sure")))])],1),i("div",{ref:"commChart",staticClass:"content-chart"}),i("div",{staticClass:"content-table"},[i("el-table",{ref:"table",attrs:{data:t.tableData,height:"100%",stripe:""},on:{"sort-change":t.tableSortChange}},[i("el-table-column",{attrs:{width:"120",prop:t.tableProps[0].prop,label:t.tableProps[0].label}}),i("el-table-column",{attrs:{prop:t.tableProps[1].prop,label:t.tableProps[1].label,sortable:"custom"}}),i("el-table-column",{attrs:{prop:t.tableProps[2].prop,label:t.tableProps[2].label,sortable:"custom"}}),i("el-table-column",{attrs:{fixed:"right",width:"180",label:t.tableProps[3].label},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"table-button",on:{click:function(i){return t.showOpInfo(e.row)}}},[t._v(" "+t._s(t.$t("public.details"))+" ")])]}}])}),i("el-table-column",{attrs:{fixed:"right",width:"180",label:t.tableProps[4].label},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"table-button",on:{click:function(i){return t.showLinkInfo(e.row)}}},[t._v(" "+t._s(t.$t("public.details"))+" ")])]}}])})],1)],1),i("div",{staticClass:"content-pagination"},[i("el-pagination",{attrs:{"page-sizes":t.pageCondition.sizes,"page-size":t.pageCondition.limit,"current-page":t.pageCondition.page,layout:"total,sizes,prev,pager,next,jumper",total:t.pageCondition.total},on:{"current-change":t.currentPageChange,"size-change":t.pageSizeChange}})],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.pageState===t.normalState&&t.tab===t.tabNames[1],expression:"pageState === normalState && tab === tabNames[1]"}],staticClass:"comm-content link-tab"},[i("div",{staticClass:"content-filter"},[i("span",[t._v(t._s(t.$t("profilingCluster.startID")))]),i("el-input",{attrs:{clearable:""},on:{clear:t.filterLinkTable},model:{value:t.linkTable.filter.src_rank,callback:function(e){t.$set(t.linkTable.filter,"src_rank",e)},expression:"linkTable.filter.src_rank"}}),i("span",[t._v(t._s(t.$t("profilingCluster.endID")))]),i("el-input",{attrs:{clearable:""},on:{clear:t.filterLinkTable},model:{value:t.linkTable.filter.dst_rank,callback:function(e){t.$set(t.linkTable.filter,"dst_rank",e)},expression:"linkTable.filter.dst_rank"}}),i("span",[t._v(t._s(t.$t("profilingCluster.linkType")))]),i("el-select",{model:{value:t.linkTable.filter.link_type,callback:function(e){t.$set(t.linkTable.filter,"link_type",e)},expression:"linkTable.filter.link_type"}},t._l(t.linkTable.linkTypes,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1),i("el-button",{on:{click:t.filterLinkTable}},[t._v(t._s(t.$t("public.sure"))+" ")])],1),i("div",{staticClass:"content-link-table"},[i("el-table",{ref:"table",attrs:{data:t.linkTable.tableData,height:"100%",stripe:""},on:{"sort-change":t.linkTableSortChange}},[i("el-table-column",{attrs:{prop:t.linkTableProps[0].prop,label:t.linkTableProps[0].label}}),i("el-table-column",{attrs:{sortable:"custom",prop:t.linkTableProps[1].prop,label:t.linkTableProps[1].label}}),i("el-table-column",{attrs:{sortable:"custom",prop:t.linkTableProps[2].prop,label:t.linkTableProps[2].label}}),i("el-table-column",{attrs:{sortable:"custom",prop:t.linkTableProps[3].prop,label:t.linkTableProps[3].label}}),i("el-table-column",{attrs:{prop:t.linkTableProps[4].prop,label:t.linkTableProps[4].label}})],1)],1),i("div",{staticClass:"content-pagination"},[i("el-pagination",{attrs:{"page-sizes":t.linkTable.pageCondition.sizes,"page-size":t.linkTable.pageCondition.limit,"current-page":t.linkTable.pageCondition.page,layout:"total,sizes,prev,pager,next,jumper",total:t.linkTable.pageCondition.total},on:{"current-change":t.linkTablePageChange,"size-change":t.linkTableSizeChange,"update:currentPage":function(e){return t.$set(t.linkTable.pageCondition,"page",e)},"update:current-page":function(e){return t.$set(t.linkTable.pageCondition,"page",e)}}})],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.pageState!==t.normalState,expression:"pageState !== normalState"}],staticClass:"comm-content"},[i("empty",{attrs:{state:t.pageState}})],1),i("el-dialog",{attrs:{title:t.linkInfo.title,visible:t.linkInfo.visible,width:"960px"},on:{"update:visible":function(e){return t.$set(t.linkInfo,"visible",e)}}},[i("div",{staticClass:"comm-dialog"},[i("div",{staticClass:"dialog-filter"},[i("span",[t._v(t._s(t.$t("profilingCluster.linkType")))]),i("el-select",{on:{change:t.filterLinkInfo},model:{value:t.linkInfo.filterType,callback:function(e){t.$set(t.linkInfo,"filterType",e)},expression:"linkInfo.filterType"}},t._l(t.linkInfo.linkTypes,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),i("div",{staticClass:"dialog-content",style:{height:t.linkInfo.tableHeight}},[i("el-table",{attrs:{data:t.linkInfo.tableData,height:"100%"}},[i("el-table-column",{attrs:{width:"160",prop:t.linkTableProps[0].prop,label:t.linkTableProps[0].label}}),i("el-table-column",{attrs:{sortable:"",prop:t.linkTableProps[1].prop,label:t.linkTableProps[1].label}}),i("el-table-column",{attrs:{sortable:"",prop:t.linkTableProps[2].prop,label:t.linkTableProps[2].label}}),i("el-table-column",{attrs:{sortable:"",prop:t.linkTableProps[3].prop,label:t.linkTableProps[3].label}}),i("el-table-column",{attrs:{width:"100",prop:t.linkTableProps[4].prop,label:t.linkTableProps[4].label}})],1)],1)])]),i("el-dialog",{attrs:{title:t.opInfo.title,visible:t.opInfo.visible,width:"960px"},on:{"update:visible":function(e){return t.$set(t.opInfo,"visible",e)}}},[t.opInfo.visible?i("cluster-comm-op-details",{attrs:{rankID:t.opInfo.rankID,dataset:t.opInfo.dataset}}):t._e()],1)],1)},n=[],l=(i("99af"),i("b0c0"),i("e9c4"),i("4de4"),i("d3b7"),i("159b"),i("b64b"),i("ac16"),i("caad"),i("2532"),i("fb6a"),i("25f0"),i("ac1f"),i("5319"),i("cca6"),i("9fac")),o=i("3778"),r=i("d138"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cluster-comm-op-details-modal"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"content-header"},[i("el-input",{attrs:{placeholder:t.$t("operator.searchByName")},on:{change:t.filterOperator,clear:t.filterOperator},model:{value:t.searchOperatorStr,callback:function(e){t.searchOperatorStr=e},expression:"searchOperatorStr"}})],1),i("div",{staticClass:"content-container"},[i("el-table",{ref:"table",attrs:{data:t.displayOperatorDataset,height:"100%"},on:{"expand-change":t.onExpandTable}},[i("el-table-column",{attrs:{type:"expand"}},[[i("el-table",{attrs:{data:t.displayLinkDataset,height:"100%"}},[i("el-table-column",{attrs:{label:t.linkRel.label,prop:t.linkRel.prop,width:"130"}}),i("el-table-column",{attrs:{label:t.commDur.label,prop:t.commDur.prop,sortable:""}}),i("el-table-column",{attrs:{label:t.commSize.label,prop:t.commSize.prop,width:"190",sortable:""}}),i("el-table-column",{attrs:{label:t.bandwidth.label,prop:t.bandwidth.prop,width:"190",sortable:""}}),i("el-table-column",{attrs:{label:t.linkType.label,prop:t.linkType.prop,width:"90"}})],1)]],2),i("el-table-column",{attrs:{label:t.opName.label,prop:t.opName.prop}}),i("el-table-column",{attrs:{label:t.commDur.label,prop:t.commDur.prop,sortable:!0}}),i("el-table-column",{attrs:{label:t.waitDur.label,prop:t.waitDur.prop,sortable:!0}})],1)],1),i("div",{staticClass:"content-pagination"},[i("el-pagination",{attrs:{"current-page":t.pageInfo.currentPage,"page-sizes":t.pageInfo.pageSizes,"page-size":t.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pageInfo.total},on:{"size-change":t.onPageSizeChange,"current-change":t.onCurrentPageChange}})],1)])])},c=[],p=(i("a9e3"),i("9944")),u="(ms)",f="(KB)",b="(KB/s)",h=20,d=4,g={props:{rankID:Number,dataset:Object},data:function(){return{opName:{label:this.$t("profilingCluster.opName"),prop:"opName"},commDur:{label:this.$t("profilingCluster.commCost")+u,prop:"commDur"},commSize:{label:this.$t("profilingCluster.commSize")+f,prop:"commSize"},waitDur:{label:this.$t("profilingCluster.waitCost")+u,prop:"waitDur"},bandwidth:{label:this.$t("profilingCluster.bandWidth")+b,prop:"bandwidth"},linkRel:{label:this.$t("profilingCluster.linkRange"),prop:"linkRel"},linkType:{label:this.$t("profilingCluster.linkType"),prop:"linkType"},totalOperatorDataset:[],filterOperatorDataset:[],displayOperatorDataset:[],displayLinkDataset:[],pageInfo:{currentPage:null,total:null,pageSize:null,pageSizes:[10,20,50]},searchOperatorStr:"",expandedRow:null}},created:function(){this.initOperatorTable()},methods:{initOperatorTable:function(){var t=this;if(!this.dataset){var e=this.pageInfo;return e.currentPage=1,e.total=0,void(e.pageSize=h)}var i=[];Object.keys(this.dataset).forEach((function(e){var a=t.dataset[e];i.push({opName:e,commDur:Object(p["c"])(a[1],d),waitDur:Object(p["c"])(a[2],d),linkInfo:a[3]})})),this.searchOperatorStr="",this.totalOperatorDataset=i,this.filterOperatorDataset=i,this.pageInfo.total=this.filterOperatorDataset.length,this.onPageSizeChange(h)},initExpandTable:function(t){var e=[];Object.keys(t).forEach((function(i){var a=t[i];Object.keys(a).forEach((function(t){var n=a[t];e.push({linkRel:i,commDur:Object(p["c"])(n[0],d),commSize:Object(p["c"])(n[1],d),bandwidth:Object(p["c"])(n[2],d),linkType:t})}))})),this.displayLinkDataset=e},onExpandTable:function(t){t!==this.expandedRow&&(this.$refs.table.toggleRowExpansion(this.expandedRow,!1),this.expandedRow=t,this.initExpandTable(t.linkInfo))},onPageSizeChange:function(t){this.pageInfo.pageSize=t,this.pageInfo.currentPage=1,this.displayOperatorDataset=this.filterOperatorDataset.slice(0,t)},onCurrentPageChange:function(t){this.pageInfo.currentPage=t;var e=this.pageInfo.pageSize;this.displayOperatorDataset=this.filterOperatorDataset.slice((t-1)*e,t*e)},filterOperator:function(t){this.filterOperatorDataset=this.totalOperatorDataset.filter((function(e){return e.opName.includes(t)})),this.pageInfo.total=this.filterOperatorDataset.length,this.onCurrentPageChange(1)}},watch:{rankID:function(){var t=this;setTimeout((function(){t.initOperatorTable()}),0)}}},m=g,v=(i("d851"),i("2877")),k=Object(v["a"])(m,s,c,!1,null,null,null),C=k.exports,y="(ms)",T="(KB)",I="(KB/s)",_=4,$={components:{empty:r["d"],clusterCommOpDetails:C},data:function(){return{pageState:r["b"],normalState:"normal",tabNames:["chart","table"],tab:null,trainInfo:{id:this.$route.query.id,path:this.$route.query.path,dir:this.$route.query.dir},activeName:this.$route.query.activeName,chartInstance:null,chartResizeTimer:null,tableData:[],tableProps:[{label:this.$t("profilingCluster.rankID"),prop:"rank_id"},{label:this.$t("profilingCluster.commCost")+y,prop:"communication_cost"},{label:this.$t("profilingCluster.waitCost")+y,prop:"wait_cost"},{label:this.$t("profiling.operatorDetail")},{label:this.$t("profilingCluster.linkInfo")}],pageCondition:{page:1,limit:10,sizes:[10,20,50],total:0},sortCondition:{},step:{min:1,max:null,value:"",last:null},stepTip:this.$t("profiling.stepInputTip"),linkInfo:{title:this.$t("profilingCluster.linkInfo"),visible:!1,filterType:this.$t("public.all"),linkTypes:[this.$t("public.all")],tableData:[],totalData:[],tableHeight:"0px"},linkTableProps:[{label:this.$t("profilingCluster.linkRange"),prop:"src_dst"},{label:this.$t("profilingCluster.commCost")+y,prop:"communication_cost"},{label:this.$t("profilingCluster.commSize")+T,prop:"communication_size"},{label:this.$t("profilingCluster.bandWidth")+I,prop:"band_width"},{label:this.$t("profilingCluster.linkType"),prop:"link_type"}],linkTable:{tableData:[],sortCondition:{},filter:{step_id:"",src_rank:"",dst_rank:"",link_type:this.$t("public.all")},params:null,linkTypes:[],pageCondition:{page:1,limit:20,sizes:[10,20,50],total:0}},opInfo:{title:this.$t("profiling.operatorDetail"),visible:!1,dataID:null,dataset:[]}}},created:function(){this.tab=this.tabNames[0]},mounted:function(){if(!this.trainInfo.id)return this.$message.error(this.$t("trainingDashboard.invalidId")),document.title="".concat(this.$t("profilingCluster.commChartTitle"),"-MindInsight"),void(this.pageState=r["c"]);document.title="".concat(this.trainInfo.path,"-").concat(this.$t("profilingCluster.commChartTitle"),"-MindInsight"),window.addEventListener("resize",this.resizeCallback),this.$bus.$on("collapse",this.resizeCallback),this.initPage(),this.initLinkTable()},beforeDestroy:function(){window.removeEventListener("resize",this.resizeCallback),this.$bus.$off("collapse",this.resizeCallback),this.chartResizeTimer&&(clearTimeout(this.chartResizeTimer),this.chartResizeTimer=null)},methods:{handleTabClick:function(t){var e=this;this.tabNames[0]===t.name&&this.$nextTick((function(){e.chartInstance&&e.chartInstance.resize()}))},filterLinkTable:function(){this.linkTable.pageCondition.page=1;var t=this.useLinkParams();this.useLinkTable(t)},initLinkTable:function(){var t=this.useLinkParams(!0);this.useLinkTable(t)},linkTablePageChange:function(t){var e=this.linkTable.params;e.body.group_condition.offset=t-1,this.useLinkTable(e)},linkTableSizeChange:function(t){var e=this.linkTable.params;this.linkTable.pageCondition.page=1,e.body.group_condition.offset=0,e.body.group_condition.limit=this.linkTable.pageCondition.limit=t,this.useLinkTable(e)},linkTableSortChange:function(t){this.linkTable.pageCondition.page=1,this.linkTable.sortCondition={name:t.prop,type:t.order};var e=this.useLinkParams();this.useLinkTable(e)},useLinkParams:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i={params:{train_id:this.trainInfo.id},body:{group_condition:{offset:this.linkTable.pageCondition.page-1,limit:this.linkTable.pageCondition.limit}}};if(this.linkTable.sortCondition.type&&(i.body.sort_condition=this.linkTable.sortCondition),e)return i;var a=JSON.parse(JSON.stringify(this.linkTable.filter));return Object.keys(a).forEach((function(e){("link_type"!==e||a[e]!==t.$t("public.all"))&&a[e].length||Reflect.deleteProperty(a,e)})),Object.keys(a).length&&(i.body.filter_condition=a),i},useLinkTable:function(t){var e=this;o["a"].getLinkInfo(t).then((function(i){var a;if(e.linkTable.params=t,(null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.cluster_link_info.length)>0){e.linkTable.pageCondition.total=i.data.size;var n=[],l=[e.$t("public.all")];i.data.cluster_link_info.forEach((function(t){e.linkTable.linkTypes.length||l.includes(t[1])||l.push(t[1]),n.push({src_dst:t[0],link_type:t[1],communication_cost:Object(p["c"])(t[2],_),communication_size:Object(p["c"])(t[3],_),band_width:Object(p["c"])(t[4],_)})})),e.linkTable.linkTypes.length||(e.linkTable.linkTypes=l),e.linkTable.tableData=n}else e.linkTable.pageCondition.total=0,e.linkTable.tableData=[]}))},initPage:function(){var t=this;this.pageCondition.page=1;var e=this.useParams(!0);this.queryCommInfo(e).then((function(e){e&&t.usePage(e)}))},queryCommInfo:function(t){var e=this;return new Promise((function(i){o["a"].getCommInfo(t).then((function(t){var a;(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.communication.length)>0?i(t.data):(e.pageState=r["c"],i(!1))})).catch((function(){e.pageState=r["c"],i(!1)}))}))},usePage:function(t){this.step.max=t.total_step_num,this.stepTip=this.$t("profiling.stepInputTip",{max:this.step.max}),this.pageCondition.total=t.size,this.useChart(t.communication),this.useTable(t.communication),this.pageState=this.normalState},useParams:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={params:{train_id:this.trainInfo.id},body:{}};return this.sortCondition.type&&(e.body.sort_condition=this.sortCondition),t||(e.body.group_condition={offset:this.pageCondition.page-1,limit:this.pageCondition.limit}),""!==this.step.value&&(e.body.filter_condition={step_id:this.step.value}),e},useChart:function(t){var e=this,i=[];t.forEach((function(t){i.push([t.rank_id,Object(p["c"])(t.communication_info[0],_),Object(p["c"])(t.communication_info[1],_)])}));var a=this.getEChartsOptions(i);this.$nextTick((function(){e.chartInstance||(e.chartInstance=l["a"].init(e.$refs.commChart,l["b"])),e.chartInstance.setOption(a,!0)}))},useTable:function(t){var e=t.length>this.pageCondition.limit?t.slice(0,this.pageCondition.limit):t,i=[];e.forEach((function(t){var e=t.communication_info;i.push({rank_id:t.rank_id,communication_cost:Object(p["c"])(e[0],_),wait_cost:Object(p["c"])(e[1],_),info:e[2],op_info:e[3]})})),this.tableData=i},resizeCallback:function(){var t=this;this.chartResizeTimer&&clearTimeout(this.chartResizeTimer),this.chartResizeTimer=setTimeout((function(){t.chartInstance&&t.chartInstance.resize(),t.chartResizeTimer=null}),200)},showOpInfo:function(t){this.opInfo.dataset=t.op_info,this.opInfo.rankID=t.rank_id,this.opInfo.visible=!0},showLinkInfo:function(t){var e=[],i=[this.$t("public.all")];Object.keys(t.info).forEach((function(a){Object.keys(t.info[a]).forEach((function(n){i.includes(n)||i.push(n);var l=t.info[a][n];e.push({src_dst:a,communication_cost:Object(p["c"])(l[0],_),communication_size:Object(p["c"])(l[1],_),band_width:Object(p["c"])(l[2],_),link_type:n})}))})),this.linkInfo.linkTypes=i,this.linkInfo.totalData=e,this.linkInfo.filterType=i[0],this.filterLinkInfo(),this.linkInfo.visible=!0},filterLinkInfo:function(){var t=this;this.linkInfo.filterType===this.$t("public.all")?this.linkInfo.tableData=this.linkInfo.totalData:this.linkInfo.tableData=this.linkInfo.totalData.filter((function(e){return e.link_type===t.linkInfo.filterType}));var e=42*(this.linkInfo.tableData.length+1);this.linkInfo.tableHeight="".concat(e>600?600:e,"px")},currentPageChange:function(t){var e=this;this.pageCondition.page=t;var i=this.useParams();this.queryCommInfo(i).then((function(t){e.useTable(t.communication)}))},pageSizeChange:function(t){var e=this;this.pageCondition.page=1,this.pageCondition.limit=t;var i=this.useParams();this.queryCommInfo(i).then((function(t){e.useTable(t.communication)}))},tableSortChange:function(t){var e=this;this.sortCondition={name:t.prop,type:t.order},this.pageCondition.page=1;var i=this.useParams(!0);this.queryCommInfo(i).then((function(t){e.useChart(t.communication),e.useTable(t.communication)}))},stepFilter:function(){if(this.step.last!==this.step.value){var t=this.step.value;if(""===t)return this.initPage(),void(this.step.last=t);var e=parseInt(t);if(e.toString()===t&&this.step.min<=e&&e<=this.step.max)return this.initPage(),void(this.step.last=t);this.step.value=this.step.last,this.$message.error(this.$t("profiling.inputError").replace("{max}",this.step.max))}},getEChartsOptions:function(t){var e=t.length>25?25:t.length;return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{right:70,top:8,data:[this.$t("profilingCluster.commCost"),this.$t("profilingCluster.waitCost")]},grid:{top:35,left:80,right:80},dataset:{source:[[this.$t("profilingCluster.rankID"),this.$t("profilingCluster.commCost"),this.$t("profilingCluster.waitCost")]].concat(t)},xAxis:{name:this.$t("profilingCluster.rankID"),nameTextStyle:{align:"left",padding:[0,5]},type:"category"},yAxis:{name:this.$t("profilingCluster.timeTitle"),nameGap:20,nameTextStyle:{align:"right",padding:[0,5]},splitLine:{lineStyle:{type:"dashed"}}},series:[{type:"bar",barWidth:8},{type:"bar",barWidth:8}],dataZoom:[{startValue:0,endValue:e},{startValue:0,endValue:e,type:"inside"}]}},backToDashboard:function(){this.$router.push({path:"cluster-dashboard",query:Object.assign({activeName:this.activeName},this.trainInfo)})}}},w=$,S=(i("2f72"),i("0635"),Object(v["a"])(w,a,n,!1,null,"14793cd8",null));e["default"]=S.exports},8029:function(t,e,i){},"8ba4":function(t,e,i){var a=i("23e7"),n=i("5e89");a({target:"Number",stat:!0},{isInteger:n})},"93b7":function(t,e,i){},9485:function(t,e,i){t.exports=i.p+"static/img/nodata.8290bed9.png"},9944:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return r}));var a=i("3835");i("caad"),i("2532"),i("ac1f"),i("466d"),i("99af"),i("d3b7"),i("25f0"),i("b680"),i("8ba4"),i("a9e3");function n(t,e,i){t.toLowerCase().includes("rgb")||(t=l(t)),e.toLowerCase().includes("rgb")||(e=l(e));for(var n=t.match(/[0-9]\d*/g),o=Object(a["a"])(n,3),r=o[0],s=o[1],c=o[2],p=e.match(/[0-9]\d*/g),u=Object(a["a"])(p,3),f=u[0],b=u[1],h=u[2],d=(+f-+r)/i,g=(+b-+s)/i,m=(+h-+c)/i,v=[t],k=1;k<i;k++){var C=parseInt(d*k+ +r),y=parseInt(g*k+ +s),T=parseInt(m*k+ +c);v.push("rgb(".concat(C,",").concat(y,",").concat(T,")"))}return v}function l(t){var e=16;return 4===t.length?"rgb(".concat(parseInt(t[1]+t[1],e),", ").concat(parseInt(t[2]+t[2],e),", ").concat(parseInt(t[3]+t[3],e),")"):"rgb(".concat(parseInt(t[1]+t[2],e),", ").concat(parseInt(t[3]+t[4],e),", ").concat(parseInt(t[5]+t[6],e),")")}function o(t,e){if("number"!==typeof t&&(t=parseFloat(t)),isNaN(t))return"NaN";var i=t+"",a=i.indexOf(".");return a<0||i.length-a-1<=e?i:t.toFixed(e)}function r(t){if(Number.isInteger(t))return!0;if("string"!==typeof t)return!1;var e=+t;return e+""===t&&Number.isInteger(e)}},a630:function(t,e,i){var a=i("23e7"),n=i("4df4"),l=i("1c7e"),o=!l((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:o},{from:n})},ac16:function(t,e,i){var a=i("23e7"),n=i("825a"),l=i("06cf").f;a({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var i=l(n(t),e);return!(i&&!i.configurable)&&delete t[e]}})},af71:function(t,e,i){},b0c0:function(t,e,i){var a=i("83ab"),n=i("9bf2").f,l=Function.prototype,o=l.toString,r=/^\s*function ([^ (]*)/,s="name";a&&!(s in l)&&n(l,s,{configurable:!0,get:function(){try{return o.call(this).match(r)[1]}catch(t){return""}}})},b680:function(t,e,i){"use strict";var a=i("23e7"),n=i("a691"),l=i("408a"),o=i("1148"),r=i("d039"),s=1..toFixed,c=Math.floor,p=function(t,e,i){return 0===e?i:e%2===1?p(t,e-1,i*t):p(t*t,e/2,i)},u=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},f=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){s.call({})}));a({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,i,a,r,s=l(this),f=n(t),b=[0,0,0,0,0,0],h="",d="0",g=function(t,e){var i=-1,a=e;while(++i<6)a+=t*b[i],b[i]=a%1e7,a=c(a/1e7)},m=function(t){var e=6,i=0;while(--e>=0)i+=b[e],b[e]=c(i/t),i=i%t*1e7},v=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==b[t]){var i=String(b[t]);e=""===e?i:e+o.call("0",7-i.length)+i}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(h="-",s=-s),s>1e-21)if(e=u(s*p(2,69,1))-69,i=e<0?s*p(2,-e,1):s/p(2,e,1),i*=4503599627370496,e=52-e,e>0){g(0,i),a=f;while(a>=7)g(1e7,0),a-=7;g(p(10,a,1),0),a=e-1;while(a>=23)m(1<<23),a-=23;m(1<<a),g(1,1),m(2),d=v()}else g(0,i),g(1<<-e,0),d=v()+o.call("0",f);return f>0?(r=d.length,d=h+(r<=f?"0."+o.call("0",f-r)+d:d.slice(0,r-f)+"."+d.slice(r-f))):d=h+d,d}})},cca6:function(t,e,i){var a=i("23e7"),n=i("60da");a({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},cf00:function(t,e,i){"use strict";i("f403")},d138:function(t,e,i){"use strict";i.d(e,"c",(function(){return l})),i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"empty-container"},[a("img",{attrs:{src:i("9485")}}),a("span",[t._v(t._s(t.text))])])},n=[],l="noData",o="dataLoading",r="heterogeneous",s={props:{state:{type:String,default:o}},data:function(){return{noData:this.$t("public.noData"),emptyData:this.$t("public.emptyData"),dataLoading:this.$t("public.dataLoading"),stayTuned:this.$t("public.stayTuned"),heterogeneous:this.$t("profiling.isHeterogeneous"),dataSelectTip:this.$t("lossAnalysis.dataSelectTip")}},computed:{text:function(){return this[this.state]?this[this.state]:""}}},c=s,p=(i("cf00"),i("2877")),u=Object(p["a"])(c,a,n,!1,null,"fc3dc28a",null);e["d"]=u.exports},d28b:function(t,e,i){var a=i("746f");a("iterator")},d851:function(t,e,i){"use strict";i("93b7")},e01a:function(t,e,i){"use strict";var a=i("23e7"),n=i("83ab"),l=i("da84"),o=i("5135"),r=i("861d"),s=i("9bf2").f,c=i("e893"),p=l.Symbol;if(n&&"function"==typeof p&&(!("description"in p.prototype)||void 0!==p().description)){var u={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new p(t):void 0===t?p():p(t);return""===t&&(u[e]=!0),e};c(f,p);var b=f.prototype=p.prototype;b.constructor=f;var h=b.toString,d="Symbol(test)"==String(p("test")),g=/^Symbol\((.*)\)[^)]+$/;s(b,"description",{configurable:!0,get:function(){var t=r(this)?this.valueOf():this,e=h.call(t);if(o(u,t))return"";var i=d?e.slice(7,-1):e.replace(g,"$1");return""===i?void 0:i}}),a({global:!0,forced:!0},{Symbol:f})}},e9c4:function(t,e,i){var a=i("23e7"),n=i("d066"),l=i("d039"),o=n("JSON","stringify"),r=/[\uD800-\uDFFF]/g,s=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,p=function(t,e,i){var a=i.charAt(e-1),n=i.charAt(e+1);return s.test(t)&&!c.test(n)||c.test(t)&&!s.test(a)?"\\u"+t.charCodeAt(0).toString(16):t},u=l((function(){return'"\\udf06\\ud834"'!==o("\udf06\ud834")||'"\\udead"'!==o("\udead")}));o&&a({target:"JSON",stat:!0,forced:u},{stringify:function(t,e,i){var a=o.apply(null,arguments);return"string"==typeof a?a.replace(r,p):a}})},f403:function(t,e,i){},fb6a:function(t,e,i){"use strict";var a=i("23e7"),n=i("861d"),l=i("e8b5"),o=i("23cb"),r=i("50c4"),s=i("fc6a"),c=i("8418"),p=i("b622"),u=i("1dde"),f=i("ae40"),b=u("slice"),h=f("slice",{ACCESSORS:!0,0:0,1:2}),d=p("species"),g=[].slice,m=Math.max;a({target:"Array",proto:!0,forced:!b||!h},{slice:function(t,e){var i,a,p,u=s(this),f=r(u.length),b=o(t,f),h=o(void 0===e?f:e,f);if(l(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!l(i.prototype)?n(i)&&(i=i[d],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return g.call(u,b,h);for(a=new(void 0===i?Array:i)(m(h-b,0)),p=0;b<h;b++,p++)b in u&&c(a,p,u[b]);return a.length=p,a}})}}]);