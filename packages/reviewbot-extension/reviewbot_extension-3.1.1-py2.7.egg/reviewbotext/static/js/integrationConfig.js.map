{"version":3,"file":"integrationConfig.js","names":["$","$tool","$toolOptions","noValidate","length","changeToolVisibility","selectedTool","parseInt","val","$lastVisibleChild","find","each","i","el","$el","data","show","hide","css","$itemAboveOptions","prev","change"],"sources":["integrationConfig.es6.js"],"sourcesContent":["$(function() {\n    const $tool = $('#id_tool');\n    const $toolOptions = $('#row-tool_options');\n\n    /*\n     * Until we can update to use the subform support in Review Board 4.0, turn\n     * off all client-side validation for the form. This is required because\n     * Chrome will still attempt to validate hidden tool options inputs, and\n     * fail the form submission.\n     *\n     * For some reason, using jquery's .prop() doesn't work, so just use the\n     * bare DOM API.\n     */\n    $('#integrationconfig_form')[0].noValidate = true;\n\n    if ($tool.length === 1 && $toolOptions.length === 1) {\n        const $itemAboveOptions = $toolOptions.prev();\n\n        function changeToolVisibility() {\n            const selectedTool = parseInt($tool.val(), 10);\n            let $lastVisibleChild = null;\n\n            $toolOptions.find('.form-row').each((i, el) => {\n                const $el = $(el);\n\n                if ($el.data('tool-id') === selectedTool) {\n                    $el.show();\n                    $lastVisibleChild = $el;\n                } else {\n                    $el.hide();\n                }\n            });\n\n            /*\n             * Normally, the :last-child rule would hide this border. Instead,\n             * we have to override it because the parent has a bunch of other\n             * children after the last one that happen to be hidden.\n             */\n            if ($lastVisibleChild !== null) {\n                $lastVisibleChild.css('border-bottom', 0);\n                $itemAboveOptions.css('border-bottom', '');\n            } else {\n                $itemAboveOptions.css('border-bottom', 0);\n            }\n        }\n\n        $tool.change(() => changeToolVisibility());\n        changeToolVisibility();\n    }\n});\n"],"mappings":";;AAAAA,CAAC,CAAC,YAAW;EACT,IAAMC,KAAK,GAAGD,CAAC,CAAC,UAAD,CAAf;EACA,IAAME,YAAY,GAAGF,CAAC,CAAC,mBAAD,CAAtB;EAEA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EACIA,CAAC,CAAC,yBAAD,CAAD,CAA6B,CAA7B,EAAgCG,UAAhC,GAA6C,IAA7C;;EAEA,IAAIF,KAAK,CAACG,MAAN,KAAiB,CAAjB,IAAsBF,YAAY,CAACE,MAAb,KAAwB,CAAlD,EAAqD;IAAA,IAGxCC,oBAHwC,GAGjD,SAASA,oBAAT,GAAgC;MAC5B,IAAMC,YAAY,GAAGC,QAAQ,CAACN,KAAK,CAACO,GAAN,EAAD,EAAc,EAAd,CAA7B;MACA,IAAIC,iBAAiB,GAAG,IAAxB;MAEAP,YAAY,CAACQ,IAAb,CAAkB,WAAlB,EAA+BC,IAA/B,CAAoC,UAACC,CAAD,EAAIC,EAAJ,EAAW;QAC3C,IAAMC,GAAG,GAAGd,CAAC,CAACa,EAAD,CAAb;;QAEA,IAAIC,GAAG,CAACC,IAAJ,CAAS,SAAT,MAAwBT,YAA5B,EAA0C;UACtCQ,GAAG,CAACE,IAAJ;UACAP,iBAAiB,GAAGK,GAApB;QACH,CAHD,MAGO;UACHA,GAAG,CAACG,IAAJ;QACH;MACJ,CATD;MAWA;AACZ;AACA;AACA;AACA;;MACY,IAAIR,iBAAiB,KAAK,IAA1B,EAAgC;QAC5BA,iBAAiB,CAACS,GAAlB,CAAsB,eAAtB,EAAuC,CAAvC;QACAC,iBAAiB,CAACD,GAAlB,CAAsB,eAAtB,EAAuC,EAAvC;MACH,CAHD,MAGO;QACHC,iBAAiB,CAACD,GAAlB,CAAsB,eAAtB,EAAuC,CAAvC;MACH;IACJ,CA7BgD;;IACjD,IAAMC,iBAAiB,GAAGjB,YAAY,CAACkB,IAAb,EAA1B;IA8BAnB,KAAK,CAACoB,MAAN,CAAa;MAAA,OAAMhB,oBAAoB,EAA1B;IAAA,CAAb;IACAA,oBAAoB;EACvB;AACJ,CAjDA,CAAD"}